<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#020402">
    <meta name="description" content="KarChain is the first hyper-scalable Layer-1 blockchain featuring Adaptive State Sharding and Proof-of-Synchrony consensus mechanism. Join the Incentivized Testnet today.">
    <meta name="keywords" content="KarChain, Blockchain, Layer 1, Crypto, Web3, Sharding, Consensus, Testnet, Airdrop, KRM Token">
    <meta name="author" content="KarChain Foundation">
    <meta property="og:title" content="KarChain | The Sovereign Consensus Layer">
    <meta property="og:description" content="The final settlement layer for the decentralized web. Built on Besu. Secured by Proof-of-Synchrony.">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/12409/12409608.png">
    <meta property="og:url" content="https://karchain.network">
    <meta name="twitter:card" content="summary_large_image">

    <title>KarChain | The Sovereign Consensus Layer</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path d='M20 10 V90' stroke='%234ade80' stroke-width='8' stroke-linecap='round'/><path d='M80 10 L20 50 L80 90' stroke='%234ade80' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/><circle cx='20' cy='50' r='10' fill='%2322c55e'/><circle cx='80' cy='10' r='8' fill='%2322c55e'/><circle cx='80' cy='90' r='8' fill='%2322c55e'/></svg>">

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/EasePack.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- WalletConnect -->
    <script src="https://unpkg.com/@walletconnect/web3-provider@1.7.8/dist/umd/index.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'k-black': '#020402',
                        'k-dark': '#050a05',
                        'k-green': '#4ade80',
                        'k-green-dark': '#15803d',
                        'k-gray': '#a3a3a3',
                        'k-border': 'rgba(255, 255, 255, 0.08)',
                        'trust-green': '#3375BB',
                        'mm-orange': '#F6851B',
                        'wc-purple': '#3B99FC',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    animation: {
                        'spin-slow': 'spin 25s linear infinite',
                        'pulse-slow': 'pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 8s ease-in-out infinite',
                        'water-drop': 'waterDrop 12s linear infinite',
                        'wave': 'wave 25s linear infinite',
                        'gradient': 'gradient 12s ease infinite',
                        'shimmer': 'shimmer 3s infinite',
                        'glow': 'glow 3s ease-in-out infinite',
                        'breathing': 'breathing 4s ease-in-out infinite',
                        'slide-up': 'slideUp 0.8s ease-out forwards',
                        'slide-down': 'slideDown 0.8s ease-out forwards',
                        'slide-left': 'slideLeft 0.8s ease-out forwards',
                        'slide-right': 'slideRight 0.8s ease-out forwards',
                        'scale-in': 'scaleIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards',
                        'fade-in': 'fadeIn 1s ease-out forwards',
                        'blur-in': 'blurIn 1s ease-out forwards',
                        'reveal': 'reveal 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '33%': { transform: 'translateY(-20px) rotate(5deg)' },
                            '66%': { transform: 'translateY(10px) rotate(-5deg)' },
                        },
                        waterDrop: {
                            '0%': { transform: 'translateY(-100px) scale(0.8)', opacity: '0' },
                            '10%': { opacity: '1', transform: 'translateY(-80px) scale(1)' },
                            '90%': { opacity: '1' },
                            '100%': { transform: 'translateY(100vh) scale(1.2)', opacity: '0' },
                        },
                        wave: {
                            '0%': { transform: 'translateX(0) translateY(0) rotate(0deg)' },
                            '25%': { transform: 'translateX(-25px) translateY(5px) rotate(1deg)' },
                            '50%': { transform: 'translateX(-50px) translateY(10px) rotate(0deg)' },
                            '75%': { transform: 'translateX(-25px) translateY(5px) rotate(-1deg)' },
                            '100%': { transform: 'translateX(0) translateY(0) rotate(0deg)' },
                        },
                        gradient: {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '33%': { 'background-position': '50% 100%' },
                            '66%': { 'background-position': '100% 50%' },
                        },
                        shimmer: {
                            '0%': { transform: 'translateX(-100%) skewX(-15deg)' },
                            '100%': { transform: 'translateX(200%) skewX(-15deg)' },
                        },
                        glow: {
                            '0%, 100%': { opacity: 1, filter: 'brightness(1)' },
                            '50%': { opacity: 0.7, filter: 'brightness(1.2)' },
                        },
                        breathing: {
                            '0%, 100%': { transform: 'scale(1)', opacity: 0.5 },
                            '50%': { transform: 'scale(1.05)', opacity: 0.8 },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(40px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        },
                        slideDown: {
                            '0%': { transform: 'translateY(-40px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        },
                        slideLeft: {
                            '0%': { transform: 'translateX(40px)', opacity: 0 },
                            '100%': { transform: 'translateX(0)', opacity: 1 },
                        },
                        slideRight: {
                            '0%': { transform: 'translateX(-40px)', opacity: 0 },
                            '100%': { transform: 'translateX(0)', opacity: 1 },
                        },
                        scaleIn: {
                            '0%': { transform: 'scale(0.9)', opacity: 0 },
                            '100%': { transform: 'scale(1)', opacity: 1 },
                        },
                        fadeIn: {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 },
                        },
                        blurIn: {
                            '0%': { opacity: 0, filter: 'blur(10px)' },
                            '100%': { opacity: 1, filter: 'blur(0)' },
                        },
                        reveal: {
                            '0%': { 
                                clipPath: 'inset(0 100% 0 0)',
                                transform: 'translateX(-20px)',
                                opacity: 0 
                            },
                            '100%': { 
                                clipPath: 'inset(0 0 0 0)',
                                transform: 'translateX(0)',
                                opacity: 1 
                            },
                        },
                    }
                }
            }
        }
    </script>

    <style>
        /* ===== –ë–ê–ó–û–í–Ü –°–¢–ò–õ–Ü ===== */
        :root {
            --glass-bg: rgba(10, 10, 10, 0.7);
            --glass-border: rgba(255, 255, 255, 0.1);
            --neon-glow: 0 0 30px rgba(74, 222, 128, 0.4);
            --depth-shadow: 0 20px 80px -10px rgba(0, 0, 0, 0.5);
            --transition-smooth: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            --transition-bounce: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-tap-highlight-color: transparent;
        }

        /* ===== –§–Ü–ö–° –ü–õ–ê–í–ù–û–°–¢–Ü –°–ö–†–û–õ–£ ===== */
        html {
            scroll-behavior: smooth !important;
            -webkit-overflow-scrolling: touch !important;
            overflow-x: hidden !important;
            overscroll-behavior: none;
            will-change: scroll-position;
        }

        html, body {
            width: 100%;
            height: 100%;
            position: relative;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #020402;
            color: #f0f0f0;
            overflow-x: hidden;
            font-family: 'Inter', sans-serif;
            font-weight: 300;
            line-height: 1.7;
            letter-spacing: 0.01em;
            opacity: 0;
            animation: fadeIn 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
            backface-visibility: hidden;
            perspective: 1000;
            -webkit-font-smoothing: subpixel-antialiased;
            text-rendering: optimizeLegibility;
            font-feature-settings: "kern", "liga", "calt", "ccmp";
        }

        /* ===== –ü–õ–ê–í–ù–Ü –ü–ï–†–ï–•–û–î–ò ===== */
        .smooth-transition {
            transition: var(--transition-smooth);
            transform: translateZ(0);
            backface-visibility: hidden;
            will-change: transform, opacity;
        }

        .smooth-transform {
            transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1), 
                        opacity 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            transform: translateZ(0);
        }

        .smooth-opacity {
            transition: opacity 0.7s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        .hover-lift {
            transition: var(--transition-smooth);
            transform: translateY(0) translateZ(0);
            will-change: transform;
        }

        .hover-lift:hover {
            transform: translateY(-12px) translateZ(0);
            z-index: 10;
        }

        /* ===== GLASSMORPHISM ===== */
        .glass-panel {
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.05) 0%,
                rgba(255, 255, 255, 0.02) 100%
            );
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
            box-shadow: 
                var(--depth-shadow),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 8px 32px rgba(0, 0, 0, 0.2);
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            transform: translateZ(0);
        }

        .glass-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(74, 222, 128, 0.3),
                transparent
            );
            z-index: 1;
        }

        .glass-panel:hover {
            border-color: rgba(74, 222, 128, 0.25);
            box-shadow: 
                0 30px 100px -20px rgba(74, 222, 128, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                0 12px 48px rgba(0, 0, 0, 0.3);
            transform: translateY(-6px) translateZ(0);
        }

        .glass-card {
            background: linear-gradient(
                145deg,
                rgba(255, 255, 255, 0.04) 0%,
                rgba(255, 255, 255, 0.01) 100%
            );
            backdrop-filter: blur(16px) saturate(160%);
            -webkit-backdrop-filter: blur(16px) saturate(160%);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 20px;
            transition: var(--transition-bounce);
            transform: translateZ(0);
            overflow: hidden;
            position: relative;
        }

        .glass-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(
                circle,
                rgba(74, 222, 128, 0.05) 0%,
                transparent 70%
            );
            opacity: 0;
            transition: opacity 0.6s ease;
            pointer-events: none;
        }

        .glass-card:hover::after {
            opacity: 1;
        }

        .glass-card:hover {
            border-color: rgba(74, 222, 128, 0.2);
            transform: translateY(-10px) scale(1.02) translateZ(0);
            box-shadow: 
                0 25px 60px -15px rgba(74, 222, 128, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* ===== –ù–ê–í–Ü–ì–ê–¶–Ü–Ø ===== */
        nav#navbar {
            background: linear-gradient(
                180deg,
                rgba(2, 4, 2, 0.98) 0%,
                rgba(2, 4, 2, 0.95) 100%
            ) !important;
            backdrop-filter: blur(30px) saturate(200%) !important;
            -webkit-backdrop-filter: blur(30px) saturate(200%) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1),
                       background 0.5s ease,
                       border-color 0.5s ease;
            transform: translateY(0);
            z-index: 1000;
            will-change: transform, background, border-color;
        }

        nav#navbar.scrolled {
            background: rgba(2, 4, 2, 0.98) !important;
            border-bottom: 1px solid rgba(74, 222, 128, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .nav-link {
            position: relative;
            padding: 12px 0;
            transition: var(--transition-smooth);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            border-radius: 1px;
            transition: width 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        /* ===== –ö–ù–û–ü–ö–ò ===== */
        .btn-primary {
            background: linear-gradient(
                135deg,
                #15803d 0%,
                #16a34a 50%,
                #22c55e 100%
            );
            color: white;
            position: relative;
            overflow: hidden;
            transition: var(--transition-bounce);
            border: 1px solid rgba(34, 197, 94, 0.4);
            border-radius: 16px;
            box-shadow: 
                0 8px 32px rgba(34, 197, 94, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transform: translateZ(0);
            will-change: transform, box-shadow, border-color;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: left 0.8s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-4px) translateZ(0);
            box-shadow: 
                0 16px 48px rgba(34, 197, 94, 0.35),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: #4ade80;
        }

        .btn-primary:active {
            transform: translateY(-1px) translateZ(0);
            transition: transform 0.2s ease;
        }

        /* ===== –°–ö–†–û–õ–ë–ê–† ===== */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
            background: transparent;
        }

        ::-webkit-scrollbar-track {
            background: rgba(2, 4, 2, 0.9);
            border-radius: 6px;
            margin: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(
                180deg,
                #15803d,
                #4ade80,
                #22c55e
            );
            border-radius: 6px;
            border: 3px solid rgba(2, 4, 2, 0.9);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(
                180deg,
                #4ade80,
                #22c55e,
                #16a34a
            );
            transform: scale(1.05);
        }

        /* ===== –ö–ù–û–ü–ö–ê "–í–ì–û–†–£" ===== */
        #scrollToTopBtn {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #15803d, #4ade80);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 8px 32px rgba(74, 222, 128, 0.3),
                0 4px 16px rgba(0, 0, 0, 0.2);
            transition: var(--transition-bounce);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px) scale(0.9) rotate(0deg);
            will-change: transform, opacity, box-shadow;
        }

        #scrollToTopBtn.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1) rotate(0deg);
        }

        #scrollToTopBtn:hover {
            transform: translateY(-6px) scale(1.05) rotate(180deg);
            box-shadow: 
                0 16px 48px rgba(74, 222, 128, 0.4),
                0 8px 24px rgba(0, 0, 0, 0.3);
        }

        #scrollToTopBtn:active {
            transform: translateY(-2px) scale(0.98);
            transition: transform 0.2s ease;
        }

        /* ===== –ì–†–ê–î–Ü–Ñ–ù–¢–ù–ò–ô –¢–ï–ö–°–¢ ===== */
        .gradient-text {
            background: linear-gradient(
                90deg,
                #ffffff 0%,
                #4ade80 25%,
                #22c55e 50%,
                #4ade80 75%,
                #ffffff 100%
            );
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 12s ease infinite;
            background-position: 0% 50%;
            will-change: background-position;
        }

        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #4ade80 50%, #22c55e 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: gradient 8s ease infinite;
        }

        /* ===== –ê–ù–Ü–ú–ê–¶–Ü–á –ü–†–ò –°–ö–†–û–õ–Ü ===== */
        .reveal-element {
            opacity: 0;
            transform: translateY(60px);
            transition: opacity 1.2s cubic-bezier(0.19, 1, 0.22, 1),
                       transform 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            will-change: opacity, transform;
        }

        .reveal-element.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .fade-in-element {
            opacity: 0;
            animation: fadeIn 1.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            will-change: opacity;
        }

        .scale-in-element {
            opacity: 0;
            transform: scale(0.95);
            animation: scaleIn 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            will-change: opacity, transform;
        }

        /* ===== –°–¢–û–†–Ü–ù–ö–ò ===== */
        .page-content {
            display: none;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.23, 1, 0.32, 1),
                       transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            will-change: opacity, transform;
            min-height: 100vh;
        }

        .page-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== –ú–û–î–ê–õ–¨–ù–Ü –í–Ü–ö–ù–ê ===== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1),
                       visibility 0.6s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            opacity: 0;
            visibility: hidden;
            z-index: 9999;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                       opacity 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                       visibility 0.6s;
            will-change: transform, opacity;
        }

        .modal-content.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            visibility: visible;
        }

        /* ===== –ú–û–ë–Ü–õ–¨–ù–ï –ú–ï–ù–Æ ===== */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 85%;
            max-width: 400px;
            height: 100vh;
            background: linear-gradient(
                135deg,
                rgba(2, 4, 2, 0.98) 0%,
                rgba(5, 10, 5, 0.98) 100%
            );
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            z-index: 10000;
            transition: right 0.7s cubic-bezier(0.23, 1, 0.32, 1);
            padding-top: 120px;
            overflow-y: auto;
            border-left: 1px solid rgba(74, 222, 128, 0.1);
            box-shadow: -20px 0 60px rgba(0, 0, 0, 0.3);
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s cubic-bezier(0.23, 1, 0.32, 1),
                       visibility 0.5s;
        }

        .mobile-menu-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        /* ===== HAMBURGER MENU ===== */
        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 32px;
            height: 24px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 10001;
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .hamburger:hover {
            transform: scale(1.1);
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background: #4ade80;
            border-radius: 2px;
            transition: var(--transition-smooth);
            transform-origin: center;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(7px, 7px);
            background: #22c55e;
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
            transform: scaleX(0);
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(8px, -8px);
            background: #22c55e;
        }

        /* ===== –í–ò–ü–ê–î–ê–Æ–ß–ï –ú–ï–ù–Æ ===== */
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition-smooth);
            will-change: transform, opacity;
        }

        .dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* ===== –°–ü–û–í–Ü–©–ï–ù–ù–Ø ===== */
        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 20px 24px;
            background: linear-gradient(
                135deg,
                rgba(15, 15, 15, 0.95) 0%,
                rgba(10, 10, 10, 0.95) 100%
            );
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(74, 222, 128, 0.2);
            border-radius: 16px;
            z-index: 10000;
            animation: slideLeft 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards,
                       fadeOut 0.5s ease 2.5s forwards;
            transform: translateX(100%);
            opacity: 0;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        /* ===== –ó–ê–í–î–ê–ù–ù–Ø ===== */
        .task-locked {
            position: relative;
            pointer-events: none;
            opacity: 0.7;
            filter: grayscale(0.6) brightness(0.8);
            transition: var(--transition-smooth);
        }

        .task-locked::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                135deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.4) 100%
            );
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            border-radius: inherit;
            z-index: 1;
        }

        .task-locked::after {
            content: '\f023';
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            color: rgba(255, 255, 255, 0.9);
            z-index: 2;
            animation: breathing 2s ease-in-out infinite;
        }

        /* ===== –ü–†–û–ì–†–ï–° –ë–ê–† ===== */
        .progress-bar {
            position: relative;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 10px;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(
                90deg,
                #15803d,
                #4ade80,
                #22c55e
            );
            border-radius: 10px;
            transition: width 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            will-change: width;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            animation: shimmer 2s infinite;
        }

        /* ===== –ë–ï–ö–ì–†–ê–£–ù–î –ï–§–ï–ö–¢–ò ===== */
        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -10;
            pointer-events: none;
            background-image: 
                linear-gradient(rgba(74, 222, 128, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(74, 222, 128, 0.02) 1px, transparent 1px);
            background-size: 80px 80px;
            mask-image: radial-gradient(circle at center, black 30%, transparent 80%);
            opacity: 0.3;
        }

        .water-drop {
            position: absolute;
            width: 2px;
            background: linear-gradient(
                to bottom,
                transparent,
                rgba(74, 222, 128, 0.4),
                rgba(74, 222, 128, 0.2),
                transparent
            );
            border-radius: 0 0 2px 2px;
            z-index: -9;
            pointer-events: none;
            animation: waterDrop 12s linear infinite;
            will-change: transform, opacity;
        }

        .water-wave {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 400%;
            height: 200px;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(74, 222, 128, 0.08) 15%,
                rgba(74, 222, 128, 0.04) 30%,
                transparent 45%
            );
            z-index: -8;
            opacity: 0.4;
            pointer-events: none;
            animation: wave 25s linear infinite;
            will-change: transform;
        }

        /* ===== –¢–ï–ö–°–¢–û–í–Ü –ï–§–ï–ö–¢–ò ===== */
        .text-stroke {
            -webkit-text-stroke: 1px rgba(74, 222, 128, 0.3);
            color: transparent;
        }

        .text-shadow {
            text-shadow: 0 4px 20px rgba(74, 222, 128, 0.3);
        }

        /* ===== –ú–ï–î–Ü–ê –ó–ê–ü–ò–¢–ò ===== */
        @media (max-width: 1024px) {
            .desktop-nav {
                display: none !important;
            }
            
            .hamburger {
                display: flex;
            }
            
            nav#navbar {
                backdrop-filter: blur(25px) !important;
                -webkit-backdrop-filter: blur(25px) !important;
            }
            
            .mobile-menu {
                width: 90%;
                max-width: 350px;
                padding-top: 100px;
            }
            
            #scrollToTopBtn {
                bottom: 30px;
                right: 30px;
                width: 52px;
                height: 52px;
            }
            
            .glass-panel {
                border-radius: 20px;
            }
            
            .glass-card {
                border-radius: 18px;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu {
                width: 100%;
                max-width: 100%;
                border-left: none;
            }
            
            #scrollToTopBtn {
                bottom: 25px;
                right: 25px;
                width: 48px;
                height: 48px;
                font-size: 18px;
            }
            
            .glass-panel {
                border-radius: 18px;
                backdrop-filter: blur(16px) !important;
                -webkit-backdrop-filter: blur(16px) !important;
            }
            
            .glass-card {
                border-radius: 16px;
            }
            
            .btn-primary {
                border-radius: 14px;
            }
            
            .notification {
                top: 20px;
                right: 20px;
                left: 20px;
                padding: 16px 20px;
            }
        }

        @media (max-width: 480px) {
            .mobile-menu {
                padding-top: 90px;
            }
            
            #scrollToTopBtn {
                bottom: 20px;
                right: 20px;
                width: 44px;
                height: 44px;
                font-size: 16px;
            }
            
            .glass-panel {
                border-radius: 16px;
                backdrop-filter: blur(12px) !important;
                -webkit-backdrop-filter: blur(12px) !important;
            }
            
            .glass-card {
                border-radius: 14px;
            }
            
            .hamburger {
                width: 28px;
                height: 20px;
            }
            
            .hamburger span {
                height: 2.5px;
            }
        }

        /* ===== –ê–î–ê–ü–¢–ê–¶–Ü–Ø –î–õ–Ø iOS ===== */
        @supports (-webkit-touch-callout: none) {
            body {
                -webkit-overflow-scrolling: touch;
            }
            
            .glass-panel,
            .glass-card,
            nav#navbar {
                backdrop-filter: saturate(180%) blur(20px) !important;
                -webkit-backdrop-filter: saturate(180%) blur(20px) !important;
            }
            
            .modal-overlay {
                backdrop-filter: saturate(180%) blur(20px) !important;
                -webkit-backdrop-filter: saturate(180%) blur(20px) !important;
            }
        }

        /* ===== –í–ò–ë–Ü–† –¢–ï–ö–°–¢–£ ===== */
        ::selection {
            background: rgba(74, 222, 128, 0.4);
            color: #ffffff;
            text-shadow: none;
        }

        ::-moz-selection {
            background: rgba(74, 222, 128, 0.4);
            color: #ffffff;
            text-shadow: none;
        }

        /* ===== –ü–õ–ï–ô–°–•–û–õ–î–ï–†–ò ===== */
        ::placeholder {
            color: rgba(255, 255, 255, 0.4);
            opacity: 1;
        }

        :-ms-input-placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        ::-ms-input-placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        /* ===== –°–ö–†–ò–¢–Ü –ï–õ–ï–ú–ï–ù–¢–ò ===== */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* ===== –õ–û–ê–î–ï–† ===== */
        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #4ade80;
            animation: spin 1s ease-in-out infinite;
            will-change: transform;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== –®–ò–ú–ú–ï–† –ï–§–ï–ö–¢ ===== */
        .shimmer-effect {
            position: relative;
            overflow: hidden;
        }

        .shimmer-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            animation: shimmer 2s infinite;
        }

        /* ===== –ê–ö–¶–ï–ù–¢–ù–Ü –ö–û–õ–¨–û–†–ò ===== */
        .accent-gradient {
            background: linear-gradient(135deg, #4ade80, #22c55e, #16a34a);
        }

        .accent-text {
            color: #4ade80;
            text-shadow: 0 0 20px rgba(74, 222, 128, 0.3);
        }

        /* ===== –ö–û–ù–¢–ï–ô–ù–ï–†–ò ===== */
        .container-smooth {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 32px;
            transition: padding 0.3s ease;
        }

        @media (max-width: 768px) {
            .container-smooth {
                padding: 0 20px;
            }
        }

        @media (max-width: 480px) {
            .container-smooth {
                padding: 0 16px;
            }
        }

        /* ===== –°–ï–¢–ö–ê ===== */
        .grid-smooth {
            display: grid;
            gap: 32px;
            transition: gap 0.3s ease;
        }

        @media (max-width: 1024px) {
            .grid-smooth {
                gap: 24px;
            }
        }

        @media (max-width: 768px) {
            .grid-smooth {
                gap: 20px;
            }
        }

        @media (max-width: 480px) {
            .grid-smooth {
                gap: 16px;
            }
        }

        /* ===== –ü–†–û–ë–Ü–õ–ò ===== */
        .section-padding {
            padding-top: 120px;
            padding-bottom: 120px;
            transition: padding 0.3s ease;
        }

        @media (max-width: 1024px) {
            .section-padding {
                padding-top: 100px;
                padding-bottom: 100px;
            }
        }

        @media (max-width: 768px) {
            .section-padding {
                padding-top: 80px;
                padding-bottom: 80px;
            }
        }

        @media (max-width: 480px) {
            .section-padding {
                padding-top: 60px;
                padding-bottom: 60px;
            }
        }

        /* ===== –§–£–ù–ö–¶–Ü–û–ù–ê–õ–¨–ù–Ü –ö–õ–ê–°–ò ===== */
        .cursor-pointer {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .cursor-pointer:hover {
            transform: scale(1.05);
        }

        .no-scroll {
            overflow: hidden !important;
            position: fixed !important;
            width: 100% !important;
            height: 100% !important;
        }

        .full-height {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .center-content {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== –¢–ò–ü–û–ì–†–ê–§–Ü–Ø ===== */
        .heading-1 {
            font-size: clamp(3rem, 8vw, 5rem);
            font-weight: 800;
            line-height: 1.1;
            letter-spacing: -0.02em;
            margin-bottom: 1.5rem;
        }

        .heading-2 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.01em;
            margin-bottom: 1.25rem;
        }

        .heading-3 {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 600;
            line-height: 1.3;
            letter-spacing: -0.005em;
            margin-bottom: 1rem;
        }

        .body-large {
            font-size: 1.125rem;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.8);
        }

        .body-small {
            font-size: 0.875rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.6);
        }

        /* ===== –£–¢–Ü–õ–Ü–¢–Ü –ö–õ–ê–°–ò ===== */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }

        .duration-500 { animation-duration: 0.5s; }
        .duration-700 { animation-duration: 0.7s; }
        .duration-1000 { animation-duration: 1s; }
        .duration-1500 { animation-duration: 1.5s; }
        .duration-2000 { animation-duration: 2s; }

        .ease-out { animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1); }
        .ease-in-out { animation-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); }
        .ease-bounce { animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        /* ===== –ö–Ü–ù–ï–¶–¨ –°–¢–ò–õ–Ü–í ===== */
    </style>
</head>
<body class="antialiased">
    <!-- –ú–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é -->
    <div class="mobile-menu-backdrop" id="mobileBackdrop"></div>
    
    <div class="mobile-menu" id="mobileMenu">
        <div class="flex flex-col items-center p-8 space-y-6">
            <button onclick="App.router.navigate('home'); UI.closeMobileMenu();" class="text-2xl font-bold text-white hover:text-green-400 transition-colors w-full text-center py-4 border-b border-white/10 smooth-transition">
                Testnet
            </button>
            <button onclick="App.router.navigate('vision'); UI.closeMobileMenu();" class="text-2xl font-bold text-gray-400 hover:text-white transition-colors w-full text-center py-4 border-b border-white/10 smooth-transition">
                Vision
            </button>
            <button onclick="App.router.navigate('ecosystem'); UI.closeMobileMenu();" class="text-2xl font-bold text-gray-400 hover:text-white transition-colors w-full text-center py-4 border-b border-white/10 smooth-transition">
                Ecosystem
            </button>
            <button onclick="App.router.navigate('support'); UI.closeMobileMenu();" class="text-2xl font-bold text-gray-400 hover:text-white transition-colors w-full text-center py-4 border-b border-white/10 smooth-transition">
                Support
            </button>
            
            <div id="mobileWalletInfo" class="mobile-wallet-info hidden mt-8 p-6 glass-card w-full">
                <div class="flex items-center gap-4 mb-6">
                    <div class="w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center">
                        <i class="fa-solid fa-wallet text-white text-xl"></i>
                    </div>
                    <div>
                        <p class="text-white font-bold text-base">My Wallet</p>
                        <p class="text-gray-500 text-sm font-mono" id="mobileWalletAddress">Not connected</p>
                    </div>
                </div>
                <button onclick="App.faucet.claimTokens()" class="w-full mb-3 px-5 py-3.5 bg-green-600 hover:bg-green-700 text-white rounded-xl text-sm font-bold transition-colors smooth-transition">
                    <i class="fa-solid fa-faucet mr-2"></i> Get Test Tokens
                </button>
                <button onclick="App.wallet.disconnect()" class="w-full px-5 py-3.5 bg-red-600 hover:bg-red-700 text-white rounded-xl text-sm font-bold transition-colors smooth-transition">
                    <i class="fa-solid fa-right-from-bracket mr-2"></i> Disconnect
                </button>
            </div>
            
            <div class="flex justify-center space-x-6 mt-8">
                <a href="https://x.com/karim7652117665" target="_blank" class="text-gray-400 hover:text-white transition-colors smooth-transition">
                    <span class="x-logo text-xl font-bold">ùïè</span>
                </a>
                <a href="https://t.me/tgkarim1" target="_blank" class="text-gray-400 hover:text-white transition-colors smooth-transition">
                    <i class="fa-brands fa-telegram text-2xl"></i>
                </a>
                <a href="https://github.com/KarChain" target="_blank" class="text-gray-400 hover:text-white transition-colors smooth-transition">
                    <i class="fa-brands fa-github text-2xl"></i>
                </a>
                <a href="https://discord.gg/karchain" target="_blank" class="text-gray-400 hover:text-white transition-colors smooth-transition">
                    <i class="fa-brands fa-discord text-2xl"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Background effects -->
    <div class="grid-overlay"></div>
    <div id="water-drops"></div>
    <div class="water-wave"></div>
    
    <div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-green-500/3 rounded-full blur-[150px] -z-10 pointer-events-none animate-pulse-slow"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 border-b border-white/5 transition-all duration-300" id="navbar">
        <div class="container-smooth h-24 flex items-center justify-between">
            
            <div class="flex items-center gap-4 cursor-pointer group" onclick="App.router.navigate('home')">
                <div class="relative w-12 h-12 flex items-center justify-center smooth-transform">
                    <svg viewBox="0 0 100 100" class="w-full h-full drop-shadow-[0_0_20px_rgba(74,222,128,0.7)] transition-all duration-700 group-hover:rotate-180 group-hover:scale-110 group-hover:drop-shadow-[0_0_30px_rgba(74,222,128,0.9)]">
                        <path d="M20 10 V90" stroke="#4ade80" stroke-width="8" stroke-linecap="round"/>
                        <path d="M80 10 L20 50 L80 90" stroke="#4ade80" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="20" cy="50" r="10" fill="#22c55e"/>
                        <circle cx="80" cy="10" r="8" fill="#22c55e"/>
                        <circle cx="80" cy="90" r="8" fill="#22c55e"/>
                    </svg>
                </div>
                <div class="flex flex-col">
                    <span class="text-xl font-bold tracking-[0.2em] text-white group-hover:text-green-400 transition-colors font-display smooth-transition">KARCHAIN</span>
                    <span class="text-xs text-gray-500 uppercase tracking-widest font-mono group-hover:text-gray-300 smooth-transition">Testnet Phase 1</span>
                </div>
            </div>

            <!-- Desktop navigation -->
            <div class="desktop-nav flex items-center gap-14">
                <button onclick="App.router.navigate('home')" id="nav-home" class="nav-link text-sm font-bold uppercase tracking-widest text-white border-b-2 border-green-500 pb-1.5 smooth-transition">Testnet</button>
                <button onclick="App.router.navigate('vision')" id="nav-vision" class="nav-link text-sm font-bold uppercase tracking-widest text-gray-400 hover:text-white transition-colors pb-1.5 smooth-transition">Vision</button>
                <button onclick="App.router.navigate('ecosystem')" id="nav-ecosystem" class="nav-link text-sm font-bold uppercase tracking-widest text-gray-400 hover:text-white transition-colors pb-1.5 smooth-transition">Ecosystem</button>
                <button onclick="App.router.navigate('support')" id="nav-support" class="nav-link text-sm font-bold uppercase tracking-widest text-gray-400 hover:text-white transition-colors pb-1.5 smooth-transition">Support</button>
            </div>

            <div class="flex items-center gap-6 relative">
                <button id="connectBtn" class="btn-primary px-8 py-3.5 rounded-xl text-sm font-bold uppercase tracking-widest flex items-center gap-3 smooth-transition">
                    <i class="fa-solid fa-wallet text-base"></i> <span>Connect Wallet</span>
                </button>

                <!-- Hamburger menu for mobile -->
                <button class="hamburger" id="hamburgerBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>

                <div id="userDropdown" class="dropdown-menu glass-panel rounded-2xl p-6 z-50 w-72">
                    <div class="flex items-center gap-4 mb-6 pb-6 border-b border-white/10">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center">
                            <i class="fa-solid fa-wallet text-white text-xl"></i>
                        </div>
                        <div>
                            <p class="text-white font-bold text-base">My Wallet</p>
                            <p class="text-gray-500 text-sm font-mono" id="dropdownAddress">0x00...0000</p>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <button class="w-full text-left px-4 py-3 text-sm text-gray-300 hover:bg-white/5 rounded-xl hover:text-white transition-colors smooth-transition">
                            <i class="fa-solid fa-coins mr-3"></i> Balance: <span id="dropdownBalance" class="font-bold">0 KRM</span>
                        </button>
                        <button onclick="App.faucet.claimTokens()" class="w-full text-left px-4 py-3 text-sm text-gray-300 hover:bg-white/5 rounded-xl hover:text-white transition-colors smooth-transition">
                            <i class="fa-solid fa-faucet mr-3"></i> Get Test Tokens
                        </button>
                        <button onclick="App.wallet.disconnect()" id="disconnectBtn" class="w-full text-left px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl text-sm font-bold transition-colors mt-4 smooth-transition">
                            <i class="fa-solid fa-right-from-bracket mr-3"></i> Disconnect Wallet
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Connect Wallet Modal -->
    <div id="connect-modal" class="modal-overlay" onclick="App.ui.closeModal()"></div>
    <div id="modal-content" class="modal-content">
        <div class="glass-panel w-full max-w-md rounded-3xl p-10">
            <div class="flex justify-between items-center mb-10">
                <h3 class="text-2xl font-bold text-white font-display">Connect Wallet</h3>
                <button onclick="App.ui.closeModal()" class="text-gray-400 hover:text-white transition-colors smooth-transition">
                    <i class="fa-solid fa-xmark text-2xl"></i>
                </button>
            </div>
            
            <p class="text-gray-400 text-base mb-8 font-light leading-relaxed">Select your wallet to authenticate with the KarChain Network and access the testnet features.</p>

            <div class="space-y-4" id="wallet-options">
                <div onclick="App.wallet.connect('MetaMask')" class="wallet-option metamask group border border-white/10 p-6 rounded-2xl bg-white/5 cursor-pointer transition-all flex items-center justify-between hover-lift">
                    <div class="flex items-center gap-5">
                        <div class="w-14 h-14 bg-white/5 rounded-full flex items-center justify-center group-hover:bg-[#F6851B]/10 transition-colors smooth-transition">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" class="w-9 h-9" alt="MetaMask">
                        </div>
                        <div>
                            <div class="wallet-title font-bold text-white text-lg group-hover:text-[#F6851B] transition-colors smooth-transition">MetaMask</div>
                            <div class="text-sm text-gray-500 uppercase font-mono tracking-wider mt-1">Browser Extension</div>
                        </div>
                    </div>
                    <div class="w-3 h-3 rounded-full bg-green-500 shadow-[0_0_15px_#4ade80] group-hover:bg-[#F6851B] group-hover:shadow-[0_0_15px_#F6851B] smooth-transition"></div>
                </div>

                <div onclick="App.wallet.connect('Trust')" class="wallet-option trust group border border-white/10 p-6 rounded-2xl bg-white/5 cursor-pointer transition-all flex items-center justify-between hover-lift">
                    <div class="flex items-center gap-5">
                        <div class="w-14 h-14 bg-white/5 rounded-full flex items-center justify-center group-hover:bg-[#3375BB]/10 transition-colors smooth-transition">
                            <i class="fa-solid fa-shield-halved text-2xl text-gray-400 group-hover:text-[#3375BB] smooth-transition"></i>
                        </div>
                        <div>
                            <div class="wallet-title font-bold text-white text-lg group-hover:text-[#3375BB] transition-colors smooth-transition">Trust Wallet</div>
                            <div class="text-sm text-gray-500 uppercase font-mono tracking-wider mt-1">Mobile / Desktop</div>
                        </div>
                    </div>
                    <div class="w-3 h-3 rounded-full bg-gray-500 group-hover:bg-[#3375BB] group-hover:shadow-[0_0_15px_#3375BB] smooth-transition"></div>
                </div>

                <div onclick="App.wallet.connect('WC')" class="wallet-option walletconnect group border border-white/10 p-6 rounded-2xl bg-white/5 cursor-pointer transition-all flex items-center justify-between hover-lift">
                    <div class="flex items-center gap-5">
                        <div class="w-14 h-14 bg-white/5 rounded-full flex items-center justify-center group-hover:bg-[#3B99FC]/10 transition-colors smooth-transition">
                            <i class="fa-solid fa-qrcode text-2xl text-gray-400 group-hover:text-[#3B99FC] smooth-transition"></i>
                        </div>
                        <div>
                            <div class="wallet-title font-bold text-white text-lg group-hover:text-[#3B99FC] transition-colors smooth-transition">WalletConnect</div>
                            <div class="text-sm text-gray-500 uppercase font-mono tracking-wider mt-1">Scan QR Code</div>
                        </div>
                    </div>
                    <div class="w-3 h-3 rounded-full bg-gray-500 group-hover:bg-[#3B99FC] group-hover:shadow-[0_0_15px_#3B99FC] smooth-transition"></div>
                </div>
            </div>

            <div class="mt-12 pt-8 border-t border-white/10 text-center">
                <p class="text-xs text-gray-600 uppercase tracking-widest leading-relaxed">By connecting, you agree to our <a href="#" class="text-green-500 hover:text-green-400 hover:underline smooth-transition">Terms</a> & <a href="#" class="text-green-500 hover:text-green-400 hover:underline smooth-transition">Privacy Policy</a></p>
            </div>
        </div>
    </div>

    <!-- Home Page -->
    <div id="page-home" class="page-content active">
        <div class="section-padding">
            <div class="container-smooth">
                <div class="max-w-7xl mx-auto text-center mb-32 reveal-element">
                    <h1 class="heading-1 text-white mb-8 leading-tight">
                        THE ARCHITECTURE OF <br> <span class="gradient-text">DIGITAL TRUST</span>
                    </h1>
                    <p class="body-large max-w-3xl mx-auto mb-12 opacity-90 reveal-element delay-200">
                        KarChain is the modular consensus layer designed for the next billion users. 
                        <br class="hidden md:block">Join the Incentivized Testnet and secure your place in the genesis block.
                    </p>
                    
                    <div class="flex flex-wrap justify-center gap-6 reveal-element delay-300">
                        <button onclick="App.router.navigate('vision')" class="px-12 py-4.5 border border-white/10 hover:bg-white/5 text-white rounded-full text-sm font-bold uppercase tracking-widest transition-all smooth-transition hover-lift">
                            Read Manifesto
                        </button>
                        <button onclick="App.ui.openModal()" class="btn-primary px-12 py-4.5 rounded-full text-sm font-bold uppercase tracking-widest smooth-transition hover-lift">
                            Start Testing
                        </button>
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto mt-24 border-t border-white/10 pt-12 reveal-element delay-400">
                        <div class="text-center">
                            <p class="text-4xl font-bold text-white mb-2 font-mono animate-counter" data-target="12492">0</p>
                            <p class="text-xs text-gray-500 uppercase tracking-widest font-mono">Blocks Minted</p>
                        </div>
                        <div class="text-center">
                            <p class="text-4xl font-bold text-white mb-2 font-mono animate-counter" data-target="0.4">0</p>
                            <p class="text-xs text-gray-500 uppercase tracking-widest font-mono">Block Time</p>
                        </div>
                        <div class="text-center">
                            <p class="text-4xl font-bold text-white mb-2 font-mono animate-counter" data-target="15000">0</p>
                            <p class="text-xs text-gray-500 uppercase tracking-widest font-mono">Transactions</p>
                        </div>
                        <div class="text-center">
                            <p class="text-4xl font-bold text-white mb-2 font-mono animate-counter" data-target="138">0</p>
                            <p class="text-xs text-gray-500 uppercase tracking-widest font-mono">Active Validators</p>
                        </div>
                    </div>
                </div>

                <div id="dashboard-ui" class="max-w-6xl mx-auto reveal-element delay-500">
                    <div class="glass-panel rounded-3xl p-1.5 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-transparent via-green-500 to-transparent opacity-60 shimmer-effect"></div>
                        <div class="bg-black/60 backdrop-blur-xl rounded-[22px] p-10 md:p-14">
                            
                            <div id="view-locked" class="text-center py-24">
                                <div class="w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-8 border-2 border-white/10 shadow-2xl smooth-transition hover-lift">
                                    <i class="fa-solid fa-lock text-4xl text-gray-600"></i>
                                </div>
                                <h2 class="text-4xl font-bold text-white mb-4 font-display">Dashboard Locked</h2>
                                <p class="text-gray-400 text-lg mb-10 max-w-md mx-auto leading-relaxed">Connect your wallet to authenticate your session and view your testnet allocation.</p>
                                <button onclick="App.ui.openModal()" class="btn-primary px-16 py-5 rounded-xl text-sm font-bold uppercase tracking-widest shadow-2xl smooth-transition hover-lift">
                                    Connect Wallet
                                </button>
                            </div>

                            <div id="view-active" class="hidden">
                                <div class="flex flex-col lg:flex-row justify-between items-end border-b border-white/10 pb-10 mb-10">
                                    <div>
                                        <p class="text-sm text-gray-500 uppercase tracking-widest mb-3 font-mono">Available Balance</p>
                                        <div class="flex items-baseline gap-4">
                                            <span id="balanceVal" class="text-8xl font-bold text-white font-mono tracking-tighter">0.00</span>
                                            <span class="text-2xl font-bold text-green-500 bg-green-500/10 px-4 py-2 rounded-xl">KRM</span>
                                        </div>
                                        <p class="text-sm text-gray-400 mt-3">
                                            <i class="fa-solid fa-circle-info mr-2"></i> 
                                            <span id="balanceInfo">Real-time balance from your wallet</span>
                                        </p>
                                    </div>
                                    <div class="mt-8 lg:mt-0 text-right">
                                        <div class="flex items-center justify-end gap-2.5 text-green-400 mb-2">
                                            <div class="w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse"></div>
                                            <span class="text-sm font-bold uppercase tracking-wider">Connected</span>
                                        </div>
                                        <p class="text-base text-gray-400 font-mono bg-white/5 px-4 py-2.5 rounded-xl" id="walletAddrDisp">0x0000...0000</p>
                                        <div class="flex items-center gap-4 mt-4">
                                            <button onclick="App.wallet.refreshBalance()" class="text-sm text-gray-500 hover:text-green-400 transition-colors smooth-transition flex items-center gap-2">
                                                <i class="fa-solid fa-rotate text-sm"></i> Refresh Balance
                                            </button>
                                            <button onclick="App.faucet.claimTokens()" class="text-sm text-blue-500 hover:text-blue-400 transition-colors smooth-transition flex items-center gap-2">
                                                <i class="fa-solid fa-faucet text-sm"></i> Get Test Tokens
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <h3 class="text-2xl font-bold text-white mb-8">Incentivized Tasks</h3>
                                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                                    
                                    <!-- Task 1: Social Follow -->
                                    <div class="glass-card p-9 rounded-3xl border border-white/10 relative overflow-hidden hover-lift">
                                        <div class="absolute top-0 right-0 bg-blue-500/20 text-blue-400 text-xs font-bold px-4 py-2 rounded-bl-2xl uppercase tracking-wider">Step 1</div>
                                        <div class="w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center mb-7 text-3xl text-white smooth-transition">
                                            <i class="fa-solid fa-users"></i>
                                        </div>
                                        <h4 class="text-2xl font-bold text-white mb-3">Social Follow</h4>
                                        <p class="text-base text-gray-400 mb-7 leading-relaxed">Follow our X account and join Telegram channel to get started.</p>
                                        <div class="space-y-4">
                                            <button onclick="App.tasks.openTwitter()" class="w-full py-3.5 bg-blue-600 hover:bg-blue-500 text-center rounded-xl text-sm font-bold text-white transition-all smooth-transition hover-lift flex items-center justify-center gap-3">
                                                <span class="x-logo font-bold text-base">ùïè</span> FOLLOW ON X
                                            </button>
                                            <button onclick="App.tasks.openTelegram()" class="w-full py-3.5 bg-teal-600 hover:bg-teal-500 text-center rounded-xl text-sm font-bold text-white transition-all smooth-transition hover-lift flex items-center justify-center gap-3">
                                                <i class="fab fa-telegram text-base"></i> JOIN TELEGRAM
                                            </button>
                                            <button onclick="App.tasks.completeSocialTask()" id="verify-social" class="w-full py-3.5 border-2 border-white/20 text-gray-500 rounded-xl text-sm font-bold cursor-not-allowed smooth-transition" disabled>
                                                VERIFY BOTH
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Task 2: Make Transaction -->
                                    <div id="card-task-2" class="glass-card p-9 rounded-3xl border border-white/10 task-locked relative overflow-hidden hover-lift">
                                        <div class="absolute top-0 right-0 bg-purple-500/20 text-purple-400 text-xs font-bold px-4 py-2 rounded-bl-2xl uppercase tracking-wider">Step 2</div>
                                        <div class="w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center mb-7 text-3xl text-white smooth-transition">
                                            <i class="fa-solid fa-right-left"></i>
                                        </div>
                                        <h4 class="text-2xl font-bold text-white mb-3">Make Transaction</h4>
                                        <p class="text-base text-gray-400 mb-7 leading-relaxed">Send any transaction on KarChain network to test the protocol.</p>
                                        <div class="space-y-4">
                                            <button onclick="App.tasks.makeTestTransaction()" class="w-full py-3.5 bg-purple-700 hover:bg-purple-600 text-white text-center rounded-xl text-sm font-bold transition-all smooth-transition hover-lift">
                                                MAKE TEST TRANSACTION
                                            </button>
                                            <button onclick="App.tasks.checkTransaction()" id="verify-transaction" class="w-full py-3.5 border-2 border-white/20 text-gray-500 rounded-xl text-sm font-bold cursor-not-allowed smooth-transition" disabled>
                                                CHECK STATUS
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Task 3: Google Form -->
                                    <div id="card-task-3" class="glass-card p-9 rounded-3xl border border-white/10 task-locked relative overflow-hidden hover-lift">
                                        <div class="absolute top-0 right-0 bg-orange-500/20 text-orange-400 text-xs font-bold px-4 py-2 rounded-bl-2xl uppercase tracking-wider">Final</div>
                                        <div class="w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center mb-7 text-3xl text-white smooth-transition">
                                            <i class="fa-solid fa-file-signature"></i>
                                        </div>
                                        <h4 class="text-2xl font-bold text-white mb-3">Submit Form</h4>
                                        <p class="text-base text-gray-400 mb-7 leading-relaxed">Complete the final registration form to finish the process.</p>
                                        <button onclick="App.tasks.openGoogleForm()" id="btn-form" class="block w-full py-3.5 bg-orange-700 hover:bg-orange-600 text-white text-center rounded-xl text-sm font-bold transition-all smooth-transition hover-lift pointer-events-none opacity-50">
                                            OPEN REGISTRATION FORM
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="flex flex-col sm:flex-row justify-between items-center gap-6 mt-10 pt-10 border-t border-white/10">
                                    <p class="text-sm text-gray-500 font-mono">Progress: <span id="progress-text" class="text-white font-bold">0/3 Tasks</span></p>
                                    <div class="flex items-center gap-6">
                                        <div class="w-48 h-3 bg-white/10 rounded-full overflow-hidden progress-bar">
                                            <div id="progress-bar" class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full" style="width: 0%"></div>
                                        </div>
                                        <div class="text-sm text-gray-500 font-mono">
                                            <span id="progress-percent">0%</span> Complete
                                        </div>
                                    </div>
                                </div>

                                <!-- Transaction History -->
                                <div id="transaction-history" class="mt-16 pt-12 border-t border-white/10 hidden">
                                    <h4 class="text-xl font-bold text-white mb-6">Your Transactions</h4>
                                    <div id="transactions-list" class="space-y-3">
                                        <!-- Transactions will be added here -->
                                    </div>
                                    <p id="no-transactions" class="text-center text-gray-500 text-base py-8">No transactions yet. Make your first transaction!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vision Page -->
    <div id="page-vision" class="page-content">
        <div class="section-padding">
            <div class="container-smooth">
                <div class="max-w-7xl mx-auto">
                    <div class="text-center mb-28 reveal-element">
                        <h2 class="heading-2 text-white mb-6">THE <span class="gradient-text">MANIFESTO</span></h2>
                        <p class="text-xl text-gray-400 font-light max-w-3xl mx-auto leading-relaxed reveal-element delay-100">
                            Re-engineering the fundamental substrate of human coordination for the 22nd century.
                        </p>
                    </div>

                    <div class="grid lg:grid-cols-2 gap-24 items-center mb-40">
                        <div class="space-y-16">
                            <div class="border-l-4 border-green-500 pl-10 py-6 smooth-transition hover-lift reveal-element">
                                <h3 class="text-3xl md:text-4xl text-white font-bold mb-6 font-mono">01 // Asynchronous Finality</h3>
                                <div class="vision-text space-y-4">
                                    <p class="text-gray-300 text-lg leading-relaxed">KarChain introduces a paradigm shift with <strong class="text-green-400">Hyper-Graph Sharding</strong>. Unlike linear blockchains, our state is partitioned into thousands of concurrent execution threads.</p>
                                    <p class="text-gray-300 text-lg leading-relaxed">Using <strong class="text-green-400">Proof-of-Synchrony</strong>, we achieve mathematical finality in sub-second timeframes, eliminating the need for probabilistic confirmations found in Nakamoto Consensus.</p>
                                    <a href="https://docs.karchain.network/technical/consensus" target="_blank" class="inline-flex items-center gap-3 mt-6 text-green-400 hover:text-green-300 text-base font-bold transition-colors smooth-transition group">
                                        <i class="fa-solid fa-book text-lg group-hover:scale-110 transition-transform"></i>
                                        Read Technical Documentation ‚Üí
                                    </a>
                                </div>
                            </div>
                            <div class="border-l-4 border-white/10 pl-10 py-6 smooth-transition hover-lift reveal-element delay-200">
                                <h3 class="text-3xl md:text-4xl text-green-400 font-bold mb-6 font-mono">02 // Post-Quantum Security</h3>
                                <div class="vision-text">
                                    <p class="text-gray-300 text-lg leading-relaxed">The era of elliptic curve cryptography is ending. KarChain is built as a <strong class="text-green-400">Quantum Fortress</strong>, utilizing Lattice-based signatures (Kyber/Dilithium) to secure assets against future quantum decryption threats.</p>
                                    <a href="https://docs.karchain.network/security/quantum-resistance" target="_blank" class="inline-flex items-center gap-3 mt-6 text-green-400 hover:text-green-300 text-base font-bold transition-colors smooth-transition group">
                                        <i class="fa-solid fa-shield-halved text-lg group-hover:scale-110 transition-transform"></i>
                                        Security Whitepaper ‚Üí
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-center relative h-[600px] items-center reveal-element delay-300">
                            <div class="absolute inset-0 bg-green-500/8 blur-[120px] rounded-full animate-glow"></div>
                            <div class="relative w-full max-w-md h-full">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-64 h-64 border-2 border-green-500/20 rounded-full animate-spin-slow"></div>
                                    <div class="absolute w-48 h-48 border-2 border-green-500/30 rounded-full animate-spin-slow" style="animation-direction: reverse; animation-duration: 15s;"></div>
                                    <div class="absolute w-32 h-32 border-2 border-green-500/40 rounded-full animate-spin-slow" style="animation-duration: 8s;"></div>
                                    <div class="absolute w-20 h-20 bg-green-500/10 rounded-full animate-pulse-slow"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-panel p-14 rounded-3xl border-t border-white/10 reveal-element delay-400">
                        <h3 class="heading-3 text-white mb-16 text-center font-display">Strategic Roadmap</h3>
                        <div class="grid md:grid-cols-4 gap-10 relative">
                            
                            <div class="relative reveal-element delay-500">
                                <div class="absolute -top-2 -left-2 w-10 h-10 bg-green-500/20 rounded-full animate-pulse"></div>
                                <div class="w-8 h-8 bg-green-500 rounded-full border-4 border-black mb-6 mx-auto relative z-10 animate-pulse"></div>
                                <h4 class="text-green-400 font-bold text-center mb-3 text-sm uppercase tracking-widest">PHASE 1</h4>
                                <p class="text-white font-bold text-center text-xl mb-3">Genesis</p>
                                <p class="text-gray-500 text-center text-sm leading-relaxed mb-4">Testnet launch, Faucet activation, Initial Validator onboarding.</p>
                                <a href="https://docs.karchain.network/roadmap/phase-1" target="_blank" class="block mt-4 text-xs text-green-500 hover:text-green-400 font-bold uppercase tracking-wider smooth-transition text-center">DETAILS</a>
                            </div>
                            
                            <div class="relative opacity-80 reveal-element delay-600">
                                <div class="w-8 h-8 bg-gray-700 rounded-full border-4 border-black mb-6 mx-auto relative z-10"></div>
                                <h4 class="text-gray-400 font-bold text-center mb-3 text-sm uppercase tracking-widest">PHASE 2</h4>
                                <p class="text-white font-bold text-center text-xl mb-3">Incentivized</p>
                                <p class="text-gray-500 text-center text-sm leading-relaxed mb-4">Public stress testing, Bug bounties, Cross-chain bridge beta.</p>
                                <a href="https://docs.karchain.network/roadmap/phase-2" target="_blank" class="block mt-4 text-xs text-green-500 hover:text-green-400 font-bold uppercase tracking-wider smooth-transition text-center">DETAILS</a>
                            </div>
                            
                            <div class="relative opacity-60 reveal-element delay-700">
                                <div class="w-8 h-8 bg-gray-700 rounded-full border-4 border-black mb-6 mx-auto relative z-10"></div>
                                <h4 class="text-gray-400 font-bold text-center mb-3 text-sm uppercase tracking-widest">PHASE 3</h4>
                                <p class="text-white font-bold text-center text-xl mb-3">Ignition</p>
                                <p class="text-gray-500 text-center text-sm leading-relaxed mb-4">Mainnet launch, TGE, Governance DAO activation.</p>
                                <a href="https://docs.karchain.network/roadmap/phase-3" target="_blank" class="block mt-4 text-xs text-green-500 hover:text-green-400 font-bold uppercase tracking-wider smooth-transition text-center">DETAILS</a>
                            </div>
                            
                            <div class="relative opacity-40 reveal-element delay-800">
                                <div class="w-8 h-8 bg-gray-700 rounded-full border-4 border-black mb-6 mx-auto relative z-10"></div>
                                <h4 class="text-gray-400 font-bold text-center mb-3 text-sm uppercase tracking-widest">PHASE 4</h4>
                                <p class="text-white font-bold text-center text-xl mb-3">Singularity</p>
                                <p class="text-gray-500 text-center text-sm leading-relaxed mb-4">Global settlement layer, Interplanetary file system integration.</p>
                                <a href="https://docs.karchain.network/roadmap/phase-4" target="_blank" class="block mt-4 text-xs text-green-500 hover:text-green-400 font-bold uppercase tracking-wider smooth-transition text-center">DETAILS</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ecosystem Page -->
    <div id="page-ecosystem" class="page-content">
        <div class="section-padding">
            <div class="container-smooth">
                <div class="max-w-7xl mx-auto">
                    <div class="text-center mb-20 reveal-element">
                        <h2 class="heading-2 text-white mb-6">ECOSYSTEM</h2>
                        <p class="text-xl text-gray-400 max-w-2xl mx-auto reveal-element delay-100">
                            Building the next generation of decentralized applications on KarChain.
                        </p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20">
                        <div class="glass-card p-9 rounded-3xl hover-lift reveal-element delay-200">
                            <div class="w-14 h-14 bg-purple-500/20 rounded-2xl flex items-center justify-center mb-7 text-3xl text-purple-400 smooth-transition">
                                <i class="fa-solid fa-right-left"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">KarSwap DEX</h3>
                            <p class="text-gray-400 text-base mb-6 leading-relaxed">The native AMM with concentrated liquidity and zero slippage for high-frequency trading.</p>
                            <a href="https://swap.karchain.network" target="_blank" class="inline-flex items-center gap-2 text-sm bg-green-900/30 text-green-400 px-4 py-2.5 rounded-xl uppercase font-bold tracking-wider hover:bg-green-800/30 smooth-transition">
                                Live on Testnet <i class="fa-solid fa-arrow-up-right-from-square text-xs"></i>
                            </a>
                        </div>
                        
                        <div class="glass-card p-9 rounded-3xl hover-lift reveal-element delay-300">
                            <div class="w-14 h-14 bg-red-500/20 rounded-2xl flex items-center justify-center mb-7 text-3xl text-red-400 smooth-transition">
                                <i class="fa-solid fa-bolt"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">KarVault Lending</h3>
                            <p class="text-gray-400 text-base mb-6 leading-relaxed">Cross-chain lending protocol with undercollateralized loans powered by reputation scores.</p>
                            <a href="https://docs.karchain.network/ecosystem/karvault" target="_blank" class="inline-flex items-center gap-2 text-sm bg-gray-800/30 text-gray-400 px-4 py-2.5 rounded-xl uppercase font-bold tracking-wider hover:bg-gray-700/30 smooth-transition">
                                Coming Soon <i class="fa-solid fa-clock text-xs"></i>
                            </a>
                        </div>

                        <div class="glass-card p-9 rounded-3xl hover-lift reveal-element delay-400">
                            <div class="w-14 h-14 bg-yellow-500/20 rounded-2xl flex items-center justify-center mb-7 text-3xl text-yellow-400 smooth-transition">
                                <i class="fa-solid fa-vault text-3xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">KarSafe</h3>
                            <p class="text-gray-400 text-base mb-6 leading-relaxed">Multi-sig institutional wallet with MPC technology for DAO treasury management.</p>
                            <a href="https://docs.karchain.network/ecosystem/karsafe" target="_blank" class="inline-flex items-center gap-2 text-sm bg-gray-800/30 text-gray-400 px-4 py-2.5 rounded-xl uppercase font-bold tracking-wider hover:bg-gray-700/30 smooth-transition">
                                Coming Soon <i class="fa-solid fa-clock text-xs"></i>
                            </a>
                        </div>

                        <div class="glass-card p-9 rounded-3xl hover-lift reveal-element delay-500">
                            <div class="w-14 h-14 bg-blue-500/20 rounded-2xl flex items-center justify-center mb-7 text-3xl text-blue-400 smooth-transition">
                                <i class="fa-solid fa-bridge"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">KarBridge</h3>
                            <p class="text-gray-400 text-base mb-6 leading-relaxed">Universal cross-chain bridge with ZK-proofs for secure asset transfers between networks.</p>
                            <a href="https://bridge.karchain.network" target="_blank" class="inline-flex items-center gap-2 text-sm bg-gray-800/30 text-gray-400 px-4 py-2.5 rounded-xl uppercase font-bold tracking-wider hover:bg-gray-700/30 smooth-transition">
                                In Development <i class="fa-solid fa-code text-xs"></i>
                            </a>
                        </div>

                        <div class="glass-card p-9 rounded-3xl hover-lift reveal-element delay-600">
                            <div class="w-14 h-14 bg-green-500/20 rounded-2xl flex items-center justify-center mb-7 text-3xl text-green-400 smooth-transition">
                                <i class="fa-solid fa-chart-line"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">KarOracle</h3>
                            <p class="text-gray-400 text-base mb-6 leading-relaxed">Decentralized oracle network providing tamper-proof data feeds for DeFi applications.</p>
                            <a href="https://docs.karchain.network/ecosystem/karoracle" target="_blank" class="inline-flex items-center gap-2 text-sm bg-gray-800/30 text-gray-400 px-4 py-2.5 rounded-xl uppercase font-bold tracking-wider hover:bg-gray-700/30 smooth-transition">
                                Planned Q2 2025 <i class="fa-solid fa-calendar text-xs"></i>
                            </a>
                        </div>

                        <div class="glass-card p-9 rounded-3xl hover-lift reveal-element delay-700">
                            <div class="w-14 h-14 bg-indigo-500/20 rounded-2xl flex items-center justify-center mb-7 text-3xl text-indigo-400 smooth-transition">
                                <i class="fa-solid fa-cube"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">KarLaunch</h3>
                            <p class="text-gray-400 text-base mb-6 leading-relaxed">Fair launch platform for new projects with anti-snipe protection and vesting schedules.</p>
                            <a href="https://launch.karchain.network" target="_blank" class="inline-flex items-center gap-2 text-sm bg-gray-800/30 text-gray-400 px-4 py-2.5 rounded-xl uppercase font-bold tracking-wider hover:bg-gray-700/30 smooth-transition">
                                Coming Soon <i class="fa-solid fa-clock text-xs"></i>
                            </a>
                        </div>
                    </div>

                    <div class="reveal-element delay-800">
                        <h3 class="heading-3 text-white mb-12 text-center">Strategic Partners</h3>
                        <div class="glass-panel p-12 rounded-3xl">
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-12 items-center justify-center">
                                <div class="text-center">
                                    <div class="w-20 h-20 mx-auto bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 smooth-transition hover-lift">
                                        <i class="fa-solid fa-server text-white text-3xl"></i>
                                    </div>
                                    <p class="text-base font-bold text-white mb-2">Infrastructure</p>
                                    <p class="text-sm text-gray-500">Node providers & RPC services</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mb-6 smooth-transition hover-lift">
                                        <i class="fa-solid fa-file-shield text-3xl text-white"></i>
                                    </div>
                                    <p class="text-base font-bold text-white mb-2">Security Audits</p>
                                    <p class="text-sm text-gray-500">Smart contract verification</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-20 h-20 mx-auto bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mb-6 smooth-transition hover-lift">
                                        <i class="fa-solid fa-users text-white text-3xl"></i>
                                    </div>
                                    <p class="text-base font-bold text-white mb-2">Community</p>
                                    <p class="text-sm text-gray-500">Developer communities</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-20 h-20 mx-auto bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mb-6 smooth-transition hover-lift">
                                        <i class="fa-solid fa-code text-white text-3xl"></i>
                                    </div>
                                    <p class="text-base font-bold text-white mb-2">Tooling</p>
                                    <p class="text-sm text-gray-500">SDKs & Developer tools</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Page -->
    <div id="page-support" class="page-content">
        <div class="section-padding">
            <div class="container-smooth">
                <div class="max-w-5xl mx-auto">
                    <div class="text-center mb-20 reveal-element">
                        <h2 class="heading-2 text-white mb-6">COMMUNITY HUB</h2>
                        <p class="text-xl text-gray-400 reveal-element delay-100">
                            Get support, report bugs, and connect with developers.
                        </p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8 mb-20">
                        <a href="https://t.me/tgkarim1" target="_blank" class="glass-panel p-10 rounded-3xl block group hover:bg-blue-900/10 smooth-transition hover-lift reveal-element delay-200">
                            <div class="flex items-center gap-7 mb-6">
                                <div class="w-20 h-20 bg-blue-500 rounded-2xl flex items-center justify-center text-4xl text-white shadow-[0_0_30px_#3b82f6] group-hover:scale-110 smooth-transition">
                                    <i class="fa-brands fa-telegram"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-white mb-2">Telegram Community</h3>
                                    <p class="text-gray-400 text-base">Join 50,000+ members. Direct access to core team.</p>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-blue-400 text-base font-bold">@KarChainOfficial</span>
                                <span class="px-5 py-2.5 bg-white/10 rounded-xl text-white font-bold text-sm group-hover:bg-white/20 smooth-transition">JOIN NOW</span>
                            </div>
                        </a>

                        <a href="mailto:support@karchain.io" class="glass-panel p-10 rounded-3xl block group hover:bg-green-900/10 smooth-transition hover-lift reveal-element delay-300">
                            <div class="flex items-center gap-7 mb-6">
                                <div class="w-20 h-20 bg-green-500 rounded-2xl flex items-center justify-center text-4xl text-white shadow-[0_0_30px_#22c55e] group-hover:scale-110 smooth-transition">
                                    <i class="fa-solid fa-envelope"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-white mb-2">Email Support</h3>
                                    <p class="text-gray-400 text-base">Direct technical support from our team. 24-48h response time.</p>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-green-400 text-base font-bold">support@karchain.io</span>
                                <span class="px-5 py-2.5 bg-white/10 rounded-xl text-white font-bold text-sm group-hover:bg-white/20 smooth-transition">SEND EMAIL</span>
                            </div>
                        </a>
                    </div>

                    <div class="space-y-6 reveal-element delay-400">
                        <h3 class="text-2xl font-bold text-white mb-8 pl-5 border-l-4 border-green-500">Frequently Asked Questions</h3>
                        
                        <div class="glass-panel rounded-3xl overflow-hidden hover-lift">
                            <button class="w-full p-7 text-left flex justify-between items-center text-white font-bold text-lg hover:bg-white/5 smooth-transition faq-toggle">
                                How to add KarChain to MetaMask?
                                <i class="fa-solid fa-chevron-down smooth-transition"></i>
                            </button>
                            <div class="faq-content border-t border-white/5 max-h-0 overflow-hidden">
                                <div class="px-7 pb-7 text-gray-300 text-base leading-relaxed space-y-4">
                                    <p>The easiest way is to click "Connect Wallet" on our dashboard. The site will automatically prompt you to add the network (Chain ID: 1337). Alternatively, you can add it manually:</p>
                                    <div class="bg-black/30 p-5 rounded-xl border border-white/5">
                                        <p class="font-mono text-sm space-y-2">
                                            <span class="text-green-400">Network Name:</span> KarChain Testnet<br>
                                            <span class="text-green-400">RPC URL:</span> https://relationless-improperly-nettie.ngrok-free.dev<br>
                                            <span class="text-green-400">Chain ID:</span> 1337<br>
                                            <span class="text-green-400">Currency Symbol:</span> KRM<br>
                                            <span class="text-green-400">Block Explorer:</span> https://relationless-improperly-nettie.ngrok-free.dev
                                        </p>
                                    </div>
                                    <a href="https://docs.karchain.network/getting-started/metamask-setup" target="_blank" class="inline-flex items-center gap-3 text-green-400 hover:text-green-300 text-base font-bold smooth-transition group">
                                        <i class="fa-solid fa-book group-hover:scale-110 smooth-transition"></i>
                                        Detailed Setup Guide ‚Üí
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="glass-panel rounded-3xl overflow-hidden hover-lift">
                            <button class="w-full p-7 text-left flex justify-between items-center text-white font-bold text-lg hover:bg-white/5 smooth-transition faq-toggle">
                                How to get Testnet Tokens (KRM)?
                                <i class="fa-solid fa-chevron-down smooth-transition"></i>
                            </button>
                            <div class="faq-content border-t border-white/5 max-h-0 overflow-hidden">
                                <div class="px-7 pb-7 text-gray-300 text-base leading-relaxed space-y-4">
                                    <p>Once you connect your wallet and complete the "Social Identity" task on the dashboard, our automated faucet will drop initial KRM tokens to your address for gas fees. You can also request tokens manually:</p>
                                    <ol class="list-decimal pl-5 space-y-2">
                                        <li>Connect your wallet</li>
                                        <li>Click "Get Test Tokens" button in your wallet dropdown</li>
                                        <li>Wait 1-2 minutes for confirmation</li>
                                    </ol>
                                    <p class="text-green-400 font-bold">Note: Faucet has a 24-hour cooldown period per address.</p>
                                </div>
                            </div>
                        </div>

                        <div class="glass-panel rounded-3xl overflow-hidden hover-lift">
                            <button class="w-full p-7 text-left flex justify-between items-center text-white font-bold text-lg hover:bg-white/5 smooth-transition faq-toggle">
                                What are the node requirements?
                                <i class="fa-solid fa-chevron-down smooth-transition"></i>
                            </button>
                            <div class="faq-content border-t border-white/5 max-h-0 overflow-hidden">
                                <div class="px-7 pb-7 text-gray-300 text-base leading-relaxed space-y-4">
                                    <p>Due to our lightweight Besu client, you can run a node on minimal hardware:</p>
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div class="bg-black/30 p-5 rounded-xl border border-white/5">
                                            <p class="text-green-400 font-bold mb-3">Minimum Requirements:</p>
                                            <ul class="list-disc pl-5 space-y-1 text-sm">
                                                <li>2 CPU Cores</li>
                                                <li>4GB RAM</li>
                                                <li>100GB SSD storage</li>
                                                <li>10 MBit/s bandwidth</li>
                                            </ul>
                                        </div>
                                        <div class="bg-black/30 p-5 rounded-xl border border-white/5">
                                            <p class="text-green-400 font-bold mb-3">Recommended for Validators:</p>
                                            <ul class="list-disc pl-5 space-y-1 text-sm">
                                                <li>4 CPU Cores</li>
                                                <li>8GB RAM</li>
                                                <li>200GB SSD storage</li>
                                                <li>50 MBit/s bandwidth</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <a href="https://docs.karchain.network/node/requirements" target="_blank" class="inline-flex items-center gap-3 text-green-400 hover:text-green-300 text-base font-bold smooth-transition group">
                                        <i class="fa-solid fa-server group-hover:scale-110 smooth-transition"></i>
                                        Node Setup Guide ‚Üí
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="glass-panel rounded-3xl overflow-hidden hover-lift">
                            <button class="w-full p-7 text-left flex justify-between items-center text-white font-bold text-lg hover:bg-white/5 smooth-transition faq-toggle">
                                How to participate in the Incentivized Testnet?
                                <i class="fa-solid fa-chevron-down smooth-transition"></i>
                            </button>
                            <div class="faq-content border-t border-white/5 max-h-0 overflow-hidden">
                                <div class="px-7 pb-7 text-gray-300 text-base leading-relaxed space-y-4">
                                    <p>To participate in the Incentivized Testnet and earn KRM tokens:</p>
                                    <ol class="list-decimal pl-5 space-y-2">
                                        <li>Connect your wallet on the Testnet dashboard</li>
                                        <li>Complete Task 1: Follow our X account</li>
                                        <li>Complete Task 2: Generate trading volume on KarSwap</li>
                                        <li>Complete Task 3: Submit wallet to Genesis Registry</li>
                                        <li>Wait for Phase 2 rewards distribution</li>
                                    </ol>
                                    <p>Rewards are based on activity level and will be distributed after the testnet concludes.</p>
                                    <a href="https://docs.karchain.network/testnet/rewards" target="_blank" class="inline-flex items-center gap-3 text-green-400 hover:text-green-300 text-base font-bold smooth-transition group">
                                        <i class="fa-solid fa-coins group-hover:scale-110 smooth-transition"></i>
                                        Rewards Structure ‚Üí
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-white/5 bg-black py-24 mt-20">
        <div class="container-smooth">
            <div class="grid md:grid-cols-4 gap-16 mb-20">
                <div class="md:col-span-2">
                    <span class="text-3xl font-bold tracking-[0.2em] text-white font-display mb-6 block">KARCHAIN</span>
                    <p class="text-gray-400 text-base max-w-md leading-relaxed mb-8">
                        The sovereign consensus layer for the decentralized future. Built for speed, security, and sustainability.
                    </p>
                    <div>
                        <p class="text-sm text-gray-400 mb-3 font-mono uppercase tracking-wider">Email Support:</p>
                        <a href="mailto:support@karchain.io" class="text-green-400 hover:text-green-300 font-bold text-lg smooth-transition">support@karchain.io</a>
                    </div>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-8 uppercase tracking-widest text-sm">Ecosystem</h4>
                    <ul class="space-y-4">
                        <li><a href="https://relationless-improperly-nettie.ngrok-free.dev" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Block Explorer</a></li>
                        <li><a href="https://relationless-improperly-nettie.ngrok-free.dev" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Governance</a></li>
                        <li><a href="https://relationless-improperly-nettie.ngrok-free.dev" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Bridge</a></li>
                        <li><a href="#" onclick="App.faucet.claimTokens()" class="text-gray-400 hover:text-white smooth-transition text-base">Faucet</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-8 uppercase tracking-widest text-sm">Developers</h4>
                    <ul class="space-y-4">
                        <li><a href="https://docs.karchain.network" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Documentation</a></li>
                                                <li><a href="https://github.com/KarChain" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Github</a></li>
                        <li><a href="https://docs.karchain.network/security/audits" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Audits</a></li>
                        <li><a href="https://immunefi.com/bounty/karchain" target="_blank" class="text-gray-400 hover:text-white smooth-transition text-base">Bug Bounty</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-6 mt-16 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center">
            <p class="text-xs text-gray-700 uppercase tracking-widest font-mono">¬© 2025 KarChain Foundation. All rights reserved.</p>
            <div class="flex gap-6 mt-4 md:mt-0">
                <a href="https://x.com/karim7652117665" target="_blank" class="text-gray-600 hover:text-white transition-colors smooth-transition">
                    <span class="x-logo text-lg font-bold">ùïè</span>
                </a>
                <a href="https://discord.gg/karchain" target="_blank" class="text-gray-600 hover:text-white transition-colors smooth-transition">
                    <i class="fa-brands fa-discord text-2xl"></i>
                </a>
                <a href="https://github.com/KarChain" target="_blank" class="text-gray-600 hover:text-white transition-colors smooth-transition">
                    <i class="fa-brands fa-github text-2xl"></i>
                </a>
                <a href="https://t.me/tgkarim1" target="_blank" class="text-gray-600 hover:text-white transition-colors smooth-transition">
                    <i class="fa-brands fa-telegram text-2xl"></i>
                </a>
            </div>
        </div>
    </div>
</footer>

<button id="scrollToTopBtn" class="fixed bottom-8 right-8 w-14 h-14 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center text-white shadow-2xl z-40 transition-all opacity-0 transform translate-y-10">
    <i class="fa-solid fa-chevron-up text-lg"></i>
</button>

<script>
    // ===== –û–°–ù–û–í–ù–ê –õ–û–ì–Ü–ö–ê –î–û–î–ê–¢–ö–£ =====
    const Config = {
        chain: {
            id: 1337,
            hex: '0x539',
            name: 'KarChain Testnet',
            rpc: 'https://relationless-improperly-nettie.ngrok-free.dev',
            symbol: 'KRM',
            decimals: 18,
            explorer: 'https://relationless-improperly-nettie.ngrok-free.dev'
        },
        walletConnect: {
            projectId: 'e6d3c5f8b2a4d7c9e1f0a3b5c7d9e2f4',
            rpc: {
                1337: 'https://relationless-improperly-nettie.ngrok-free.dev'
            }
        },
        tokenAddress: null,
        faucetAddress: null,
        tasks: {
            twitterUrl: 'https://x.com/karim7652117665',
            telegramUrl: 'https://t.me/tgkarim1',
            googleFormUrl: 'https://docs.google.com/forms/d/e/1FAIpQLSeQhBQZ_XKxYp2G5bZ5RwTzR2QmPpLJ6xN3oYjH7sKvP8t0w/viewform'
        }
    };

    const STORAGE_KEYS = {
        WALLET_CONNECTED: 'karchain_wallet_connected',
        WALLET_ADDRESS: 'karchain_wallet_address',
        LAST_CONNECTED: 'karchain_last_connected',
        WALLET_BALANCE: 'karchain_wallet_balance',
        WALLET_TYPE: 'karchain_wallet_type',
        TASKS_COMPLETED: 'karchain_tasks_completed',
        TRANSACTIONS: 'karchain_transactions',
        SOCIAL_TASK_STARTED: 'karchain_social_started'
    };

    const UI = {
        init: () => {
            UI.initWaterDrops();
            UI.initScrollToTop();
            UI.initFAQ();
            UI.checkSavedConnection();
            UI.setupWalletButton();
            UI.showPage('home');
            UI.setupDropdownToggle();
            UI.setupTaskButtons();
            UI.setupMobileMenu();
            UI.initScrollAnimations();
            UI.setupNavbarScroll();
            UI.checkMetaMaskOnLoad();
            
            // Load completed tasks
            UI.loadTaskProgress();
            
            // –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–æ—è–≤–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
            gsap.fromTo('body', 
                { opacity: 0 },
                { opacity: 1, duration: 1.2, ease: "power2.out" }
            );
        },

        loadTaskProgress: () => {
            const completedTasks = JSON.parse(localStorage.getItem(STORAGE_KEYS.TASKS_COMPLETED) || '[]');
            UI.updateTaskProgress(completedTasks.length);
            
            // Unlock next tasks based on progress
            if (completedTasks.includes(1)) {
                UI.unlockTask(2);
            }
            if (completedTasks.includes(2)) {
                UI.unlockTask(3);
            }
            
            // Check social task button
            const socialStarted = localStorage.getItem(STORAGE_KEYS.SOCIAL_TASK_STARTED) === 'true';
            if (socialStarted && !completedTasks.includes(1)) {
                const verifyBtn = document.getElementById('verify-social');
                if (verifyBtn) {
                    verifyBtn.disabled = false;
                    verifyBtn.classList.remove('cursor-not-allowed', 'border-white/20', 'text-gray-500');
                    verifyBtn.classList.add('bg-green-600', 'text-white', 'hover:bg-green-500', 'border-transparent');
                    verifyBtn.innerHTML = 'VERIFY BOTH';
                }
            }
        },

        unlockTask: (taskNumber) => {
            if (taskNumber === 2) {
                const taskCard = document.getElementById('card-task-2');
                const verifyBtn = document.getElementById('verify-transaction');
                if (taskCard) {
                    taskCard.classList.remove('task-locked');
                    gsap.fromTo(taskCard,
                        { scale: 0.95, opacity: 0.6 },
                        { scale: 1, opacity: 1, duration: 0.5, ease: "power2.out" }
                    );
                }
                if (verifyBtn) {
                    verifyBtn.disabled = false;
                    verifyBtn.classList.remove('cursor-not-allowed', 'border-white/20', 'text-gray-500');
                    verifyBtn.classList.add('bg-purple-600', 'text-white', 'hover:bg-purple-500', 'border-transparent');
                    verifyBtn.innerHTML = 'CHECK STATUS';
                }
            }
            if (taskNumber === 3) {
                const taskCard = document.getElementById('card-task-3');
                const formBtn = document.getElementById('btn-form');
                if (taskCard) {
                    taskCard.classList.remove('task-locked');
                    gsap.fromTo(taskCard,
                        { scale: 0.95, opacity: 0.6 },
                        { scale: 1, opacity: 1, duration: 0.5, ease: "power2.out", delay: 0.1 }
                    );
                }
                if (formBtn) {
                    formBtn.classList.remove('pointer-events-none', 'opacity-50');
                }
            }
        },

        initWaterDrops: () => {
            const container = document.getElementById('water-drops');
            const dropsCount = 30;
            
            for(let i = 0; i < dropsCount; i++) {
                const drop = document.createElement('div');
                drop.className = 'water-drop';
                drop.style.left = `${Math.random() * 100}%`;
                drop.style.animationDelay = `${Math.random() * 12}s`;
                drop.style.height = `${30 + Math.random() * 100}px`;
                container.appendChild(drop);
            }
        },

        initScrollToTop: () => {
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 500) {
                    scrollToTopBtn.classList.add('show');
                } else {
                    scrollToTopBtn.classList.remove('show');
                }
            });
            
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        },

        setupMobileMenu: () => {
            const hamburgerBtn = document.getElementById('hamburgerBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileBackdrop = document.getElementById('mobileBackdrop');
            
            if (hamburgerBtn && mobileMenu && mobileBackdrop) {
                hamburgerBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    mobileMenu.classList.toggle('active');
                    mobileBackdrop.classList.toggle('active');
                    hamburgerBtn.classList.toggle('active');
                    document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
                });
                
                mobileBackdrop.addEventListener('click', function() {
                    UI.closeMobileMenu();
                });
                
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 1024) {
                        UI.closeMobileMenu();
                    }
                });
            }
        },
        
        closeMobileMenu: () => {
            const hamburgerBtn = document.getElementById('hamburgerBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileBackdrop = document.getElementById('mobileBackdrop');
            
            if (mobileMenu) mobileMenu.classList.remove('active');
            if (mobileBackdrop) mobileBackdrop.classList.remove('active');
            if (hamburgerBtn) hamburgerBtn.classList.remove('active');
            document.body.style.overflow = '';
        },

        checkMetaMaskOnLoad: () => {
            const hasMetaMask = typeof window.ethereum !== 'undefined' && window.ethereum.isMetaMask;
            
            if (!hasMetaMask) {
                setTimeout(() => {
                    const walletOptions = document.getElementById('wallet-options');
                    if (walletOptions) {
                        const installMetaMaskBtn = document.createElement('div');
                        installMetaMaskBtn.className = 'wallet-option metamask group border border-white/10 p-6 rounded-2xl bg-white/5 cursor-pointer transition-all flex items-center justify-between hover-lift';
                        installMetaMaskBtn.innerHTML = `
                            <div class="flex items-center gap-5">
                                <div class="w-14 h-14 bg-white/5 rounded-full flex items-center justify-center group-hover:bg-[#F6851B]/10 transition-colors smooth-transition">
                                    <i class="fa-solid fa-download text-2xl text-gray-400 group-hover:text-[#F6851B] smooth-transition"></i>
                                </div>
                                <div>
                                    <div class="wallet-title font-bold text-white text-lg group-hover:text-[#F6851B] transition-colors smooth-transition">Install MetaMask</div>
                                    <div class="text-sm text-gray-500 uppercase font-mono tracking-wider mt-1">Browser Extension</div>
                                </div>
                            </div>
                        `;
                        installMetaMaskBtn.onclick = () => {
                            window.open('https://metamask.io/download/', '_blank');
                            UI.showNotification('Opening MetaMask download page...', 'info');
                        };
                        walletOptions.appendChild(installMetaMaskBtn);
                    }
                }, 500);
            }
        },

        initFAQ: () => {
            document.querySelectorAll('.faq-toggle').forEach(toggle => {
                toggle.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const icon = this.querySelector('i');
                    
                    if(content.style.maxHeight && content.style.maxHeight !== '0px') {
                        content.style.maxHeight = null;
                        content.style.opacity = '0';
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        content.style.opacity = '1';
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });
        },

        setupWalletButton: () => {
            const connectBtn = document.getElementById('connectBtn');
            connectBtn.onclick = UI.openModal;
        },

        setupDropdownToggle: () => {
            const connectBtn = document.getElementById('connectBtn');
            const dropdown = document.getElementById('userDropdown');
            
            connectBtn.replaceWith(connectBtn.cloneNode(true));
            const newConnectBtn = document.getElementById('connectBtn');
            
            newConnectBtn.addEventListener('click', function(e) {
                if (App.state.address) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const isVisible = !dropdown.classList.contains('hidden');
                    
                    if (!isVisible) {
                        dropdown.classList.remove('hidden');
                        gsap.fromTo(dropdown, 
                            { opacity: 0, y: -20, scale: 0.95 },
                            { opacity: 1, y: 0, scale: 1, duration: 0.3, ease: "power2.out" }
                        );
                    } else {
                        gsap.to(dropdown, {
                            opacity: 0,
                            y: -20,
                            scale: 0.95,
                            duration: 0.2,
                            ease: "power2.in",
                            onComplete: () => {
                                dropdown.classList.add('hidden');
                            }
                        });
                    }
                } else {
                    UI.openModal();
                }
            });
            
            document.addEventListener('click', function(e) {
                if (App.state.address && 
                    !dropdown.contains(e.target) && 
                    !newConnectBtn.contains(e.target) && 
                    !dropdown.classList.contains('hidden')) {
                    
                    gsap.to(dropdown, {
                        opacity: 0,
                        y: -20,
                        scale: 0.95,
                        duration: 0.2,
                        ease: "power2.in",
                        onComplete: () => {
                            dropdown.classList.add('hidden');
                        }
                    });
                }
            });
        },

        setupTaskButtons: () => {
            // Social task verification
            const verifySocialBtn = document.getElementById('verify-social');
            if (verifySocialBtn) {
                verifySocialBtn.addEventListener('click', () => {
                    App.tasks.completeSocialTask();
                });
            }

            // Transaction task
            const verifyTransactionBtn = document.getElementById('verify-transaction');
            if (verifyTransactionBtn) {
                verifyTransactionBtn.addEventListener('click', () => {
                    App.tasks.checkTransaction();
                });
            }

            // Google Form task
            const formBtn = document.getElementById('btn-form');
            if (formBtn) {
                formBtn.addEventListener('click', () => {
                    if (!formBtn.classList.contains('pointer-events-none')) {
                        App.tasks.openGoogleForm();
                    }
                });
            }
        },

        checkSavedConnection: () => {
            const isConnected = localStorage.getItem(STORAGE_KEYS.WALLET_CONNECTED);
            const savedAddress = localStorage.getItem(STORAGE_KEYS.WALLET_ADDRESS);
            
            if (isConnected === 'true' && savedAddress) {
                App.state.address = savedAddress;
                App.state.walletType = localStorage.getItem(STORAGE_KEYS.WALLET_TYPE);
                
                const savedBalance = localStorage.getItem(STORAGE_KEYS.WALLET_BALANCE) || '0.00';
                UI.setConnectedState(savedAddress, savedBalance);
                
                // Load transaction history
                UI.loadTransactionHistory();
            }
        },

        saveConnection: (address, walletType) => {
            localStorage.setItem(STORAGE_KEYS.WALLET_CONNECTED, 'true');
            localStorage.setItem(STORAGE_KEYS.WALLET_ADDRESS, address);
            localStorage.setItem(STORAGE_KEYS.WALLET_TYPE, walletType);
            localStorage.setItem(STORAGE_KEYS.LAST_CONNECTED, Date.now().toString());
        },

        clearConnection: () => {
            localStorage.removeItem(STORAGE_KEYS.WALLET_CONNECTED);
            localStorage.removeItem(STORAGE_KEYS.WALLET_ADDRESS);
            localStorage.removeItem(STORAGE_KEYS.LAST_CONNECTED);
            localStorage.removeItem(STORAGE_KEYS.WALLET_TYPE);
            localStorage.removeItem(STORAGE_KEYS.WALLET_BALANCE);
        },

        showPage: (id) => {
            UI.closeMobileMenu();
            
            const currentPage = document.querySelector('.page-content.active');
            const targetPage = document.getElementById('page-'+id);
            
            if (currentPage && targetPage && currentPage !== targetPage) {
                gsap.to(currentPage, {
                    opacity: 0,
                    y: -20,
                    duration: 0.3,
                    ease: "power2.in",
                    onComplete: () => {
                        document.querySelectorAll('.page-content').forEach(el => {
                            el.classList.remove('active');
                            el.style.display = 'none';
                        });
                        
                        targetPage.style.display = 'block';
                        gsap.fromTo(targetPage, 
                            { opacity: 0, y: 20 },
                            { 
                                opacity: 1, 
                                y: 0, 
                                duration: 0.5, 
                                ease: "power2.out",
                                onComplete: () => {
                                    targetPage.classList.add('active');
                                }
                            }
                        );
                    }
                });
            } else {
                document.querySelectorAll('.page-content').forEach(el => {
                    el.classList.remove('active');
                    el.style.display = 'none';
                });
                
                targetPage.style.display = 'block';
                targetPage.classList.add('active');
            }

            // Update navigation active state
            document.querySelectorAll('.nav-link').forEach(el => {
                el.classList.remove('active', 'text-white', 'border-green-500');
                el.classList.add('text-gray-400', 'border-transparent');
            });
            const activeLink = document.getElementById('nav-'+id);
            if(activeLink) {
                activeLink.classList.add('active', 'text-white', 'border-green-500');
                activeLink.classList.remove('text-gray-400', 'border-transparent');
            }

            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });

            setTimeout(() => {
                UI.initScrollAnimations();
            }, 100);
        },

        openModal: () => {
            const modal = document.querySelector('.modal-overlay');
            const modalContent = document.querySelector('.modal-content');
            
            modal.classList.add('active');
            modalContent.classList.add('active');
            
            UI.closeMobileMenu();
            document.body.style.overflow = 'hidden';
        },

        closeModal: () => {
            const modal = document.querySelector('.modal-overlay');
            const modalContent = document.querySelector('.modal-content');
            
            modalContent.classList.remove('active');
            
            setTimeout(() => {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }, 300);
        },

        setConnectedState: (address, balance) => {
            const btn = document.getElementById('connectBtn');
            const short = `${address.substring(0,6)}...${address.substring(address.length-4)}`;
            btn.innerHTML = `<div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div> ${short}`;
            
            document.getElementById('dropdownAddress').innerText = short;
            document.getElementById('dropdownBalance').innerText = balance ? `${balance} KRM` : '0 KRM';

            const mobileWalletInfo = document.getElementById('mobileWalletInfo');
            const mobileWalletAddress = document.getElementById('mobileWalletAddress');
            if (mobileWalletInfo && mobileWalletAddress) {
                mobileWalletInfo.classList.remove('hidden');
                mobileWalletAddress.innerText = short;
            }

            document.getElementById('view-locked').classList.add('hidden');
            document.getElementById('view-active').classList.remove('hidden');
            
            document.getElementById('walletAddrDisp').innerText = address;
            document.getElementById('balanceVal').innerText = balance || '0.00';
            
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.add('hidden');
            
            setTimeout(() => {
                UI.setupDropdownToggle();
            }, 100);

            gsap.fromTo('#view-active', 
                { opacity: 0, y: 20 },
                { opacity: 1, y: 0, duration: 0.5, ease: "power2.out" }
            );

            // Show transaction history
            UI.loadTransactionHistory();
        },

        updateBalance: (balance) => {
            const formattedBalance = parseFloat(balance).toFixed(4);
            const balanceElement = document.getElementById('balanceVal');
            const dropdownBalance = document.getElementById('dropdownBalance');
            
            gsap.to(balanceElement, {
                innerHTML: formattedBalance,
                duration: 0.5,
                snap: { innerHTML: 0.01 }
            });
            
            dropdownBalance.innerText = `${formattedBalance} KRM`;
            localStorage.setItem(STORAGE_KEYS.WALLET_BALANCE, formattedBalance);
        },

        resetState: () => {
            const btn = document.getElementById('connectBtn');
            btn.innerHTML = '<i class="fa-solid fa-wallet text-base"></i> <span>Connect Wallet</span>';
            
            const mobileWalletInfo = document.getElementById('mobileWalletInfo');
            if (mobileWalletInfo) {
                mobileWalletInfo.classList.add('hidden');
            }
            
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.add('hidden');
            
            document.getElementById('view-locked').classList.remove('hidden');
            document.getElementById('view-active').classList.add('hidden');
            document.getElementById('transaction-history').classList.add('hidden');
            
            setTimeout(() => {
                UI.setupDropdownToggle();
            }, 100);
        },

        showNotification: (message, type = 'info') => {
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            let icon = 'fa-info-circle';
            let color = 'text-blue-400';
            
            switch(type) {
                case 'success':
                    icon = 'fa-check-circle';
                    color = 'text-green-400';
                    break;
                case 'error':
                    icon = 'fa-exclamation-circle';
                    color = 'text-red-400';
                    break;
                case 'warning':
                    icon = 'fa-exclamation-triangle';
                    color = 'text-yellow-400';
                    break;
            }
            
            notification.innerHTML = `
                <div class="flex items-center gap-3">
                    <i class="fas ${icon} ${color} text-lg"></i>
                    <span class="text-white font-medium">${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideLeft 0.5s ease forwards';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            document.body.removeChild(notification);
                        }
                    }, 500);
                }
            }, 3000);
        },

        initScrollAnimations: () => {
            // Animate counters
            const counters = document.querySelectorAll('.animate-counter');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const duration = 2000;
                const increment = target / (duration / 16);
                let current = 0;
                
                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        counter.textContent = Math.floor(current);
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.textContent = target;
                    }
                };
                
                // Start animation when in viewport
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            updateCounter();
                            observer.unobserve(entry.target);
                        }
                    });
                });
                
                observer.observe(counter);
            });
            
            // Reveal elements on scroll
            const revealElements = document.querySelectorAll('.reveal-element');
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        revealObserver.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            });
            
            revealElements.forEach(el => revealObserver.observe(el));
        },

        setupNavbarScroll: () => {
            const navbar = document.getElementById('navbar');
            let lastScroll = 0;
            
            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                
                if (currentScroll > 100) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
                
                lastScroll = currentScroll;
            });
        },

        updateTaskProgress: (completedTasks) => {
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const progressPercent = document.getElementById('progress-percent');
            
            const percentage = (completedTasks / 3) * 100;
            
            gsap.to(progressBar, {
                width: `${percentage}%`,
                duration: 0.7,
                ease: "power2.out"
            });
            
            progressText.innerText = `${completedTasks}/3 Tasks`;
            progressPercent.innerText = `${Math.round(percentage)}%`;
        },

        loadTransactionHistory: () => {
            const transactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.TRANSACTIONS) || '[]');
            const historySection = document.getElementById('transaction-history');
            const noTransactions = document.getElementById('no-transactions');
            const transactionsList = document.getElementById('transactions-list');
            
            if (transactions.length > 0) {
                historySection.classList.remove('hidden');
                noTransactions.style.display = 'none';
                
                // Clear existing list
                transactionsList.innerHTML = '';
                
                // Add transactions to list
                transactions.forEach((tx, index) => {
                    const txElement = document.createElement('div');
                    txElement.className = 'flex justify-between items-center p-4 bg-white/5 rounded-xl';
                    txElement.innerHTML = `
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center">
                                <i class="fa-solid fa-arrow-right text-green-400"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-white">Transaction ${index + 1}</p>
                                <p class="text-xs text-gray-500 font-mono">${tx.hash.substring(0, 10)}...${tx.hash.substring(tx.hash.length - 8)}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-white">${tx.value} KRM</p>
                            <p class="text-xs text-gray-500">${new Date(tx.timestamp).toLocaleTimeString()}</p>
                        </div>
                    `;
                    transactionsList.appendChild(txElement);
                });
            } else {
                historySection.classList.add('hidden');
                noTransactions.style.display = 'block';
            }
        },

        addTransaction: (transaction) => {
            const transactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.TRANSACTIONS) || '[]');
            transactions.push({
                ...transaction,
                timestamp: new Date().toISOString()
            });
            localStorage.setItem(STORAGE_KEYS.TRANSACTIONS, JSON.stringify(transactions));
            
            UI.loadTransactionHistory();
        }
    };

    const App = {
        ui: UI,
        router: { navigate: UI.showPage },
        state: { 
            address: null, 
            provider: null,
            walletType: null,
            walletConnect: null,
            krmBalance: '0.00'
        },

        wallet: {
            connect: async (type) => {
                try {
                    const connectBtn = document.getElementById('connectBtn');
                    connectBtn.classList.add('connecting');
                    connectBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> <span>Connecting...</span>';
                    
                    let provider;
                    let accounts;
                    
                    switch(type) {
                        case 'MetaMask':
                            if (typeof window.ethereum === 'undefined') {
                                throw new Error('MetaMask not found. Please install MetaMask extension.');
                            }
                            
                            provider = new ethers.providers.Web3Provider(window.ethereum, 'any');
                            accounts = await provider.send("eth_requestAccounts", []);
                            break;
                            
                        case 'Trust':
                            if (typeof window.ethereum === 'undefined') {
                                throw new Error('Trust Wallet not found. Please install Trust Wallet or enable dapp browser.');
                            }
                            
                            provider = new ethers.providers.Web3Provider(window.ethereum, 'any');
                            accounts = await provider.send("eth_requestAccounts", []);
                            break;
                            
                        case 'WC':
                            UI.showNotification('WalletConnect requires additional setup. Please use MetaMask or Trust Wallet.', 'info');
                            throw new Error('Use MetaMask or Trust Wallet');
                            
                        default:
                            throw new Error('Unknown wallet type');
                    }
                    
                    if (!accounts || accounts.length === 0) {
                        throw new Error('Could not get account from wallet');
                    }
                    
                    await App.wallet.finalizeConnection(accounts[0], provider, type);
                    
                } catch (e) {
                    console.error('Wallet connection error:', e);
                    
                    let errorMessage = e.message;
                    if (e.code === -32002) {
                        errorMessage = 'MetaMask is already processing a request. Please check your MetaMask.';
                    }
                    
                    UI.showNotification(`Error: ${errorMessage}`, 'error');
                    
                    const connectBtn = document.getElementById('connectBtn');
                    connectBtn.classList.remove('connecting');
                    connectBtn.innerHTML = '<i class="fa-solid fa-wallet text-base"></i> <span>Connect Wallet</span>';
                }
            },

            finalizeConnection: async (address, provider, type) => {
                App.state.address = address;
                App.state.provider = provider;
                App.state.walletType = type;

                UI.closeModal();
                
                await App.wallet.switchNetwork();
                await App.wallet.loadTokenBalance();
                
                UI.saveConnection(App.state.address, type);
                UI.setConnectedState(App.state.address, App.state.krmBalance);
                
                App.wallet.setupEventListeners();
                
                const connectBtn = document.getElementById('connectBtn');
                connectBtn.classList.remove('connecting');
                UI.showNotification(`${type} connected successfully!`, 'success');
                
                // Start monitoring for transactions
                App.tasks.startTransactionMonitoring();
            },

            disconnect: () => {
                if (App.state.walletType === 'WC' && App.state.walletConnect) {
                    App.state.walletConnect.disconnect();
                }
                
                App.state.address = null;
                App.state.provider = null;
                App.state.walletType = null;
                App.state.walletConnect = null;
                App.state.krmBalance = '0.00';
                
                UI.clearConnection();
                UI.resetState();
                UI.showNotification('Wallet disconnected', 'success');
                
                const dropdown = document.getElementById('userDropdown');
                dropdown.classList.add('hidden');
                
                UI.closeMobileMenu();
            },

            switchNetwork: async () => {
                if (App.state.walletType === 'WC' || !window.ethereum) return;
                
                try {
                    await window.ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: Config.chain.hex }],
                    });
                } catch (switchError) {
                    if (switchError.code === 4902) {
                        try {
                            await window.ethereum.request({
                                method: 'wallet_addEthereumChain',
                                params: [{
                                    chainId: Config.chain.hex,
                                    chainName: Config.chain.name,
                                    rpcUrls: [Config.chain.rpc],
                                    nativeCurrency: { 
                                        name: 'KarChain', 
                                        symbol: Config.chain.symbol, 
                                        decimals: Config.chain.decimals 
                                    },
                                    blockExplorerUrls: [Config.chain.explorer]
                                }],
                            });
                        } catch (addError) { 
                            console.error(addError); 
                            UI.showNotification('Failed to add network. Please add manually.', 'error');
                        }
                    }
                }
            },

            loadTokenBalance: async () => {
                try {
                    if (!App.state.provider || !App.state.address) return;
                    
                    const ethBalance = await App.state.provider.getBalance(App.state.address);
                    const ethBalanceFormatted = ethers.utils.formatEther(ethBalance);
                    
                    App.state.krmBalance = parseFloat(ethBalanceFormatted).toFixed(4);
                    UI.updateBalance(App.state.krmBalance);
                    
                    UI.showNotification(`Balance updated: ${App.state.krmBalance} KRM`, 'success');
                    
                } catch (error) {
                    console.error('Error loading balance:', error);
                    UI.showNotification('Failed to load balance', 'error');
                }
            },

            refreshBalance: async () => {
                if (!App.state.address) {
                    UI.showNotification('Please connect wallet first', 'error');
                    return;
                }
                
                try {
                    UI.showNotification('Refreshing balance...', 'info');
                    await App.wallet.loadTokenBalance();
                } catch (error) {
                    console.error('Error refreshing balance:', error);
                    UI.showNotification('Failed to refresh balance', 'error');
                }
            },

            setupEventListeners: () => {
                if (App.state.walletType !== 'WC' && window.ethereum) {
                    window.ethereum.on('accountsChanged', async (accounts) => {
                        if (accounts.length === 0) {
                            App.wallet.disconnect();
                        } else if (accounts[0] !== App.state.address) {
                            App.state.address = accounts[0];
                            UI.saveConnection(App.state.address, App.state.walletType);
                            UI.setConnectedState(App.state.address, App.state.krmBalance);
                            UI.showNotification('Account changed', 'info');
                        }
                    });

                    window.ethereum.on('chainChanged', async (chainId) => {
                        if (parseInt(chainId) !== Config.chain.id) {
                            UI.showNotification('Please switch to KarChain network', 'error');
                            await App.wallet.switchNetwork();
                        } else {
                            await App.wallet.loadTokenBalance();
                        }
                    });
                }
            },

            tryReconnect: async () => {
                const isConnected = localStorage.getItem(STORAGE_KEYS.WALLET_CONNECTED);
                const savedAddress = localStorage.getItem(STORAGE_KEYS.WALLET_ADDRESS);
                const walletType = localStorage.getItem(STORAGE_KEYS.WALLET_TYPE);
                
                if (isConnected === 'true' && savedAddress && walletType) {
                    try {
                        let provider;
                        
                        if (walletType === 'MetaMask' || walletType === 'Trust') {
                            if (!window.ethereum) return false;
                            
                            provider = new ethers.providers.Web3Provider(window.ethereum);
                            const accounts = await provider.send("eth_accounts", []);
                            
                            if (accounts.length > 0 && accounts[0].toLowerCase() === savedAddress.toLowerCase()) {
                                App.state.address = accounts[0];
                                App.state.provider = provider;
                                App.state.walletType = walletType;
                                
                                await App.wallet.loadTokenBalance();
                                UI.setConnectedState(App.state.address, App.state.krmBalance);
                                App.wallet.setupEventListeners();
                                
                                UI.showNotification('Wallet reconnected', 'success');
                                return true;
                            }
                        }
                    } catch (e) {
                        console.log("Auto-reconnect failed:", e);
                    }
                }
                return false;
            }
        },

        faucet: {
            claimTokens: async () => {
                try {
                    if (!App.state.address) {
                        UI.showNotification('Please connect wallet first', 'error');
                        return;
                    }
                    
                    UI.showNotification('Requesting test tokens...', 'info');
                    
                    // –°–∏–º—É–ª—é—î–º–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
                    setTimeout(() => {
                        const currentBalance = parseFloat(App.state.krmBalance || 0);
                        const newBalance = (currentBalance + 100).toFixed(4);
                        App.state.krmBalance = newBalance;
                        UI.updateBalance(newBalance);
                        UI.showNotification('Received 100 test KRM tokens!', 'success');
                    }, 2000);
                    
                } catch (error) {
                    console.error('Faucet error:', error);
                    UI.showNotification('Failed to get test tokens', 'error');
                }
            }
        },

        tasks: {
            completedTasks: JSON.parse(localStorage.getItem(STORAGE_KEYS.TASKS_COMPLETED) || '[]'),
            transactionMonitoring: null,

            openTwitter: () => {
                window.open(Config.tasks.twitterUrl, '_blank');
                localStorage.setItem(STORAGE_KEYS.SOCIAL_TASK_STARTED, 'true');
                
                setTimeout(() => {
                    const verifyBtn = document.getElementById('verify-social');
                    if (verifyBtn) {
                        verifyBtn.disabled = false;
                        verifyBtn.classList.remove('cursor-not-allowed', 'border-white/20', 'text-gray-500');
                        verifyBtn.classList.add('bg-green-600', 'text-white', 'hover:bg-green-500', 'border-transparent');
                        verifyBtn.innerHTML = 'VERIFY BOTH';
                    }
                }, 2000);
                
                UI.showNotification('Opening X... Follow our account!', 'info');
            },

            openTelegram: () => {
                window.open(Config.tasks.telegramUrl, '_blank');
                localStorage.setItem(STORAGE_KEYS.SOCIAL_TASK_STARTED, 'true');
                
                setTimeout(() => {
                    const verifyBtn = document.getElementById('verify-social');
                    if (verifyBtn) {
                        verifyBtn.disabled = false;
                        verifyBtn.classList.remove('cursor-not-allowed', 'border-white/20', 'text-gray-500');
                        verifyBtn.classList.add('bg-green-600', 'text-white', 'hover:bg-green-500', 'border-transparent');
                        verifyBtn.innerHTML = 'VERIFY BOTH';
                    }
                }, 2000);
                
                UI.showNotification('Opening Telegram... Join our channel!', 'info');
            },

            completeSocialTask: () => {
                const verifyBtn = document.getElementById('verify-social');
                if (verifyBtn && verifyBtn.disabled === false) {
                    verifyBtn.disabled = true;
                    verifyBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
                    
                    gsap.to(verifyBtn, {
                        rotation: 360,
                        duration: 1.5,
                        ease: "power2.out",
                        repeat: -1
                    });
                    
                    setTimeout(() => {
                        gsap.killTweensOf(verifyBtn);
                        verifyBtn.innerHTML = 'COMPLETED';
                        verifyBtn.classList.replace('border-white/20', 'bg-green-900/50');
                        verifyBtn.classList.add('text-green-400');
                        
                        if (!App.tasks.completedTasks.includes(1)) {
                            App.tasks.completedTasks.push(1);
                            localStorage.setItem(STORAGE_KEYS.TASKS_COMPLETED, JSON.stringify(App.tasks.completedTasks));
                        }
                        
                        UI.updateTaskProgress(App.tasks.completedTasks.length);
                        UI.unlockTask(2);
                        UI.showNotification('Social task completed!', 'success');
                        
                        // Give faucet tokens
                        setTimeout(() => {
                            App.faucet.claimTokens();
                        }, 1000);
                    }, 1500);
                } else {
                    UI.showNotification('Please open both X and Telegram first', 'info');
                }
            },

            checkTransaction: () => {
                if (!App.state.address) {
                    UI.showNotification('Please connect wallet first', 'error');
                    return;
                }

                const transactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.TRANSACTIONS) || '[]');
                
                if (transactions.length > 0) {
                    App.tasks.completeTask(2, 'Transaction verified!');
                } else {
                    UI.showNotification('No transactions found. Make a transaction first.', 'info');
                }
            },

            openGoogleForm: () => {
                const formUrl = `${Config.tasks.googleFormUrl}?entry.1234567890=${encodeURIComponent(App.state.address)}`;
                window.open(formUrl, '_blank');
                
                setTimeout(() => {
                    App.tasks.completeTask(3, 'Form submitted!');
                }, 3000);
            },

            completeTask: (taskId, message) => {
                const btn = taskId === 2 ? document.getElementById('verify-transaction') : null;
                
                if (btn && btn.disabled === false) {
                    btn.disabled = true;
                    btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
                    
                    gsap.to(btn, {
                        rotation: 360,
                        duration: 1.5,
                        ease: "power2.out",
                        repeat: -1
                    });
                    
                    setTimeout(() => {
                        gsap.killTweensOf(btn);
                        btn.innerHTML = 'COMPLETED';
                        btn.classList.replace('border-white/20', 'bg-green-900/50');
                        btn.classList.add('text-green-400');
                        
                        if (!App.tasks.completedTasks.includes(taskId)) {
                            App.tasks.completedTasks.push(taskId);
                            localStorage.setItem(STORAGE_KEYS.TASKS_COMPLETED, JSON.stringify(App.tasks.completedTasks));
                        }
                        
                        UI.updateTaskProgress(App.tasks.completedTasks.length);
                        
                        if (taskId === 2) {
                            UI.unlockTask(3);
                        }
                        
                        UI.showNotification(message || `Task ${taskId} completed!`, 'success');
                    }, 1500);
                }
            },

            startTransactionMonitoring: () => {
                if (!App.state.address || App.tasks.transactionMonitoring) return;
                
                App.tasks.transactionMonitoring = setInterval(() => {
                    App.tasks.checkForTransactions();
                }, 30000);
                
                App.tasks.checkForTransactions();
            },

            checkForTransactions: async () => {
                if (!App.state.address || !App.state.provider) return;
                
                try {
                    const blockNumber = await App.state.provider.getBlockNumber();
                    
                    for (let i = Math.max(0, blockNumber - 100); i <= blockNumber; i++) {
                        const block = await App.state.provider.getBlockWithTransactions(i);
                        
                        if (block && block.transactions) {
                            block.transactions.forEach(tx => {
                                if (tx.from.toLowerCase() === App.state.address.toLowerCase()) {
                                    const existingTransactions = JSON.parse(localStorage.getItem(STORAGE_KEYS.TRANSACTIONS) || '[]');
                                    const txExists = existingTransactions.some(t => t.hash === tx.hash);
                                    
                                    if (!txExists) {
                                        UI.addTransaction({
                                            hash: tx.hash,
                                            from: tx.from,
                                            to: tx.to,
                                            value: ethers.utils.formatEther(tx.value),
                                            timestamp: new Date().toISOString()
                                        });
                                        
                                        UI.showNotification('New transaction detected!', 'success');
                                        
                                        if (!App.tasks.completedTasks.includes(2)) {
                                            App.tasks.completeTask(2, 'Transaction verified automatically!');
                                        }
                                    }
                                }
                            });
                        }
                    }
                } catch (error) {
                    console.error('Error checking transactions:', error);
                }
            },

            makeTestTransaction: async () => {
                if (!App.state.address || !App.state.provider) {
                    UI.showNotification('Please connect wallet first', 'error');
                    return;
                }

                try {
                    const signer = App.state.provider.getSigner();
                    
                    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –±–∞–ª–∞–Ω—Å
                    const balance = await signer.getBalance();
                    if (balance.lt(ethers.utils.parseEther("0.001"))) {
                        UI.showNotification('Insufficient balance for transaction', 'error');
                        return;
                    }
                    
                    // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ 0.001 KRM —Å–æ–±—ñ
                    const tx = await signer.sendTransaction({
                        to: App.state.address,
                        value: ethers.utils.parseEther("0.001")
                    });
                    
                    UI.showNotification(`Transaction sent! Hash: ${tx.hash.substring(0, 10)}...`, 'success');
                    
                    // –ß–µ–∫–∞—î–º–æ –Ω–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
                    await tx.wait();
                    
                    UI.showNotification('Transaction confirmed!', 'success');
                    
                    // –î–æ–¥–∞—î–º–æ –≤ –ª–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ
                    UI.addTransaction({
                        hash: tx.hash,
                        from: App.state.address,
                        to: App.state.address,
                        value: "0.001",
                        timestamp: new Date().toISOString()
                    });
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à—É—î–º–æ –∑–∞–¥–∞—á—É 2, —è–∫—â–æ —â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
                    if (!App.tasks.completedTasks.includes(2)) {
                        App.tasks.completeTask(2, 'Transaction verified!');
                    }
                    
                } catch (error) {
                    console.error('Transaction error:', error);
                    UI.showNotification(`Transaction failed: ${error.message}`, 'error');
                }
            }
        }
    };

    window.App = App;

    window.addEventListener('load', async () => {
        await App.ui.init();
        
        if (localStorage.getItem(STORAGE_KEYS.WALLET_CONNECTED) === 'true') {
            setTimeout(async () => {
                await App.wallet.tryReconnect();
            }, 1000);
        }
    });

    document.addEventListener('wheel', function(e) {
        const modal = document.querySelector('.modal-overlay.active');
        const mobileMenu = document.getElementById('mobileMenu');
        
        if ((modal && modal.classList.contains('active')) || 
            (mobileMenu && mobileMenu.classList.contains('active'))) {
            e.preventDefault();
        }
    }, { passive: false });
</script>
</body>
</html>
